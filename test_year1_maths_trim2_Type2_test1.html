<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tests Hub - Devoir Synth√®se N¬∞2 (1√®re ann√©e) - M. Bellili Mongi</title>
    
    <!-- PWA Meta Tags (bleus) -->
    <meta name="theme-color" content="#3b82f6">
    <meta name="description" content="Devoir de Synth√®se N¬∞2 - 1√®re ann√©e secondaire - Math√©matiques - Lyc√©e Sbeitla">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Tests Hub - Devoir 1√®re">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="assets/icons/icon-152x152.png">
    <link rel="apple-touch-icon" sizes="152x152" href="assets/icons/icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/icon-192x192.png">
    
    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- KaTeX -->
    <link rel="stylesheet" href="katex/katex.min.css">
    <script defer src="katex/katex.min.js"></script>
    <script defer src="katex/contrib/auto-render.min.js"></script>
    
    <style>
        /* Palette bleue */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: background 0.3s ease;
            color: #1e3a8a;
        }
        
        body.Tests-Hub-dark-theme {
            background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
            color: #eff6ff;
        }
        
        /* Header */
        .Tests-Hub-header-container {
            background: linear-gradient(to left, #3b82f6, #60a5fa);
            color: white;
            padding: 1.5rem 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: background 0.3s ease;
            position: relative;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-header-container {
            background: linear-gradient(to left, #1e3a8a, #3b82f6, #60a5fa);
        }
        
        .Tests-Hub-header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 15px;
        }
        
        .Tests-Hub-header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .Tests-Hub-header-icon {
            width: 48px;
            height: 48px;
            object-fit: contain;
        }
        
        .Tests-Hub-header-title {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
        }
        
        .Tests-Hub-header-subtitle {
            font-size: 1rem;
            opacity: 0.9;
            margin-top: 3px;
        }
        
        .Tests-Hub-header-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .Tests-Hub-language-selector {
            position: relative;
        }
        
        .Tests-Hub-language-button {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-language-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .Tests-Hub-language-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            min-width: 120px;
            display: none;
            z-index: 100;
        }
        
        .Tests-Hub-language-selector:hover .Tests-Hub-language-dropdown {
            display: block;
        }
        
        .Tests-Hub-language-option {
            padding: 0.8rem 1rem;
            color: #1e3a8a;
            cursor: pointer;
            transition: background 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .Tests-Hub-language-option:hover {
            background: #bfdbfe;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-language-dropdown {
            background: #1e3a8a;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-language-option {
            color: #eff6ff;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-language-option:hover {
            background: #3b82f6;
        }
        
        .Tests-Hub-theme-toggle {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-theme-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Back Button */
        .Tests-Hub-back-button {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.3s ease;
            text-decoration: none;
            font-size: 0.95rem;
        }
        
        .Tests-Hub-back-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Main Content */
        .Tests-Hub-main-container {
            flex: 1;
            max-width: 1000px;
            margin: 2rem auto;
            padding: 0 2rem;
            width: 100%;
        }
        
        .Tests-Hub-test-header {
            text-align: center;
            background: linear-gradient(to left, #3b82f6, #60a5fa);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-test-header {
            background: linear-gradient(to left, #1e3a8a, #3b82f6);
        }
        
        .Tests-Hub-test-header h1 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .Tests-Hub-test-section {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: background 0.3s ease, color 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-test-section {
            background: #1e40af;
            color: #eff6ff;
        }
        
        .Tests-Hub-test-section h2 {
            color: #3b82f6;
            border-bottom: 2px solid #60a5fa;
            padding-bottom: 8px;
            margin-bottom: 1.5rem;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-test-section h2 {
            color: #bfdbfe;
        }
        
        .Tests-Hub-instructions {
            background: #dbeafe;
            padding: 1rem;
            border-right: 4px solid #3b82f6;
            margin-bottom: 1.5rem;
            border-radius: 5px;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-instructions {
            background: #1e3a8a;
            border-right-color: #60a5fa;
        }
        
        .Tests-Hub-question {
            margin: 1.5rem 0;
            padding-right: 10px;
        }
        
        .Tests-Hub-question-number {
            font-weight: bold;
            color: #3b82f6;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-question-number {
            color: #bfdbfe;
        }
        
        /* KaTeX LTR */
        .katex {
            direction: ltr !important;
            unicode-bidi: isolate !important;
            display: inline-block;
        }
        .katex * {
            direction: ltr !important;
        }

        /* Am√©lioration des √©quations */
        .Tests-Hub-question p {
            font-size: 1.2em;
            overflow-x: auto;
            overflow-y: hidden;
            white-space: nowrap;
            padding-bottom: 5px;
            margin: 10px 0;
        }
        .Tests-Hub-question p::-webkit-scrollbar {
            height: 6px;
        }
        .Tests-Hub-question p::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 10px;
        }
        @media (max-width: 600px) {
            .Tests-Hub-question p {
                font-size: 1.1em;
            }
        }
        .Tests-Hub-question p:not(:has(.katex)) {
            white-space: normal;
        }
        
        /* Bouton correction */
        .Tests-Hub-correction-toggle-container {
            text-align: center;
            margin: 2rem 0;
        }
        
        .Tests-Hub-toggle-button {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background: linear-gradient(to left, #3b82f6, #60a5fa);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .Tests-Hub-toggle-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .Tests-Hub-correction-section {
            background: #dbeafe;
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            border-right: 4px solid #3b82f6;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-correction-section {
            background: #1e3a8a;
            border-right-color: #60a5fa;
        }
        
        .Tests-Hub-correction-section h3 {
            color: #3b82f6;
            margin-top: 0;
            margin-bottom: 1rem;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-correction-section h3 {
            color: #bfdbfe;
        }
        
        .Tests-Hub-correction-answer {
            background: rgba(59, 130, 246, 0.05);
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
            border-right: 3px solid #3b82f6;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-correction-answer {
            background: rgba(191, 219, 254, 0.1);
            border-right-color: #60a5fa;
        }
        
        .Tests-Hub-hidden {
            display: none;
        }
        
        /* Footer */
        .Tests-Hub-footer-container {
            background: linear-gradient(to left, #3b82f6, #60a5fa);
            color: white;
            padding: 2rem;
            margin-top: auto;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-footer-container {
            background: linear-gradient(to left, #1e3a8a, #3b82f6, #60a5fa);
        }
        
        .Tests-Hub-footer-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        
        .Tests-Hub-footer-columns {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }
        
        .Tests-Hub-footer-column h3 {
            color: #bfdbfe;
            margin-bottom: 1rem;
        }
        
        .Tests-Hub-developer-name, .Tests-Hub-version-number {
            font-weight: 600;
            color: #bfdbfe;
        }
        
        /* Boutons t√©l√©chargement */
        .Tests-Hub-download-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 2.5rem 0;
            padding: 1.5rem;
            background: linear-gradient(to left, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.1));
            border-radius: 12px;
        }
        
        .Tests-Hub-download-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-width: 100px;
            height: 100px;
            padding: 1rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .Tests-Hub-download-button span:first-child {
            font-size: 2rem;
            margin-bottom: 8px;
        }
        
        .Tests-Hub-download-button.pdf {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            color: white;
        }
        
        .Tests-Hub-download-button.odt {
            background: linear-gradient(135deg, #2563eb, #3b82f6);
            color: white;
        }
        
        .Tests-Hub-download-button.png {
            background: linear-gradient(135deg, #1e3a8a, #2563eb);
            color: white;
        }
        
        .Tests-Hub-download-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }
        
        @media (max-width: 768px) {
            .Tests-Hub-header-content {
                flex-direction: column;
            }
            .Tests-Hub-footer-columns {
                grid-template-columns: 1fr;
            }
        }

        /* Styles pour les graphiques */
        .Tests-Hub-diagram-container {
            margin: 20px 0;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            text-align: center;
        }
        .Tests-Hub-diagram-canvas {
            width: 100%;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 4px;
            background: white;
        }
        .Tests-Hub-dark-theme .Tests-Hub-diagram-canvas {
            border-color: #60a5fa;
            background: #1e3a8a;
        }

        /* Tableau de signe (ancien, conserv√© au cas o√π, mais remplac√© par canvas) */
        .sign-table {
            direction: ltr;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 1rem;
        }
        .sign-table td, .sign-table th {
            border: 1px solid #3b82f6;
            padding: 8px 12px;
            text-align: center;
        }
        .Tests-Hub-dark-theme .sign-table td, 
        .Tests-Hub-dark-theme .sign-table th {
            border-color: #60a5fa;
            color: #eff6ff;
        }
    </style>
</head>
<body>
    <header class="Tests-Hub-header-container">
        <div class="Tests-Hub-header-content">
            <div class="Tests-Hub-header-left">
                <img src="assets/icons/icon-96x96.png" alt="Tests Hub Logo" class="Tests-Hub-header-icon">
                <div>
                    <h1 class="Tests-Hub-header-title" data-i18n="TestsHub.synthesisTest.title">Math√©matiques - Devoir de Synth√®se N¬∞2 (1√®re)</h1>
                    <div class="Tests-Hub-header-subtitle" data-i18n="TestsHub.synthesisTest.subtitle">1√®re Ann√©e Secondaire - Lyc√©e Sbeitla</div>
                </div>
            </div>
            
            <div class="Tests-Hub-header-controls">
               <a href="index.html" class="Tests-Hub-back-button">
    <span>‚Üê</span>
    <span data-i18n="TestsHub.synthesisTest.back">Retour aux tests</span>
</a>
                
                <div class="Tests-Hub-language-selector">
                    <button class="Tests-Hub-language-button">
    <span>üåê</span>
    <span data-i18n="TestsHub.language.current">Fran√ßais</span>
    <span>‚ñº</span>
</button>
                    <div class="Tests-Hub-language-dropdown">
                        <div class="Tests-Hub-language-option" data-language="ar">üåê ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</div>
                        <div class="Tests-Hub-language-option" data-language="fr">üåê Fran√ßais</div>
                        <div class="Tests-Hub-language-option" data-language="en">üåê English</div>
                    </div>
                </div>
                
                <button class="Tests-Hub-theme-toggle" id="themeToggle">
                    <span id="themeIcon">üåô</span>
                    <span>Mode sombre</span>
                </button>
            </div>
        </div>
    </header>
    
    <main class="Tests-Hub-main-container">
        <div class="Tests-Hub-test-header">
            <h1>Devoir de Synth√®se N¬∞2 en Math√©matiques</h1>
            <p>Ann√©e scolaire : 2018-2019</p>
            <p>Classe : 1√®re Ann√©e Secondaire</p>
            <p>Professeur : M. Bellili Mongi</p>
            <p>√âtablissement : Lyc√©e Sbeitla</p>
            <p>Dur√©e : 1 h 30 min</p>
            <p>Date : 20/05/2019</p>
        </div>
        
        <div class="Tests-Hub-test-section Tests-Hub-instructions">
            <h3>Instructions</h3>
            <ul>
                <li>R√©pondre aux questions suivantes en justifiant clairement.</li>
                <li>Les graphiques doivent √™tre trac√©s avec soin.</li>
                <li>La correction d√©taill√©e est disponible en cliquant sur le bouton en bas.</li>
            </ul>
        </div>
        
        <!-- ==================== EXERCICE N¬∫1 (7 pts) ==================== -->
        <div class="Tests-Hub-test-section">
            <h2>EXERCICE N¬∫1 (7 points)</h2>
            
            <!-- 1¬∞ -->
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">1¬∞)</span> On a trac√© dans un rep√®re cart√©sien (O,i,j) la repr√©sentation graphique Œî d'une fonction affine f.</p>
                <p><span class="Tests-Hub-question-number">a.</span> D√©terminer graphiquement : f(0) et f(2)</p>
                <p><span class="Tests-Hub-question-number">b.</span> Exprimer f(x) en fonction de x.</p>
                <!-- Graphique de Œî (seulement Œî dans l'√©nonc√©) -->
                <div class="Tests-Hub-diagram-container">
                    <canvas id="exerciseDeltaCanvas" class="Tests-Hub-diagram-canvas" width="500" height="300" style="width:100%; height:auto;"></canvas>
                </div>
            </div>
            
            <!-- 2¬∞ -->
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">2¬∞)</span> Soit g la fonction affine d√©finie par : g(x) = -3x + 2 et on d√©signe par Œî' sa repr√©sentation graphique.</p>
                <p><span class="Tests-Hub-question-number">a.</span> Calculer l'ant√©c√©dent de 32 par g.</p>
                <p><span class="Tests-Hub-question-number">b.</span> Le point A(20,58) appartient-il √† la droite Œî'? Justifier la r√©ponse.</p>
                <p><span class="Tests-Hub-question-number">c.</span> Tracer la droite Œî' dans un rep√®re cart√©sien (O,i,j). (On utilisera le m√™me rep√®re que pour f)</p>
            </div>
            
            <!-- 3¬∞ -->
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">3¬∞)</span> R√©soudre par le calcul l'in√©quation : (2x - 3)(-3x + 2) < 0</p>
            </div>
        </div>

        <!-- ==================== EXERCICE N¬∫2 (3 pts) ==================== -->
        <div class="Tests-Hub-test-section">
            <h2>EXERCICE N¬∫2 (3 points)</h2>
            
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">1¬∞)</span> R√©soudre dans ‚Ñù¬≤ le syst√®me :</p>
                <p>\[
                \begin{cases}
                    4x - y = 1 \\
                    3x + 2y = 9
                \end{cases}
                \]</p>
            </div>
            
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">2¬∞)</span> D√©duire les solutions du syst√®me :</p>
                <p>\[
                \begin{cases}
                    4z^2 - |t| = 1 \\
                    3z^2 + 2t = 9
                \end{cases}
                \]</p>
            </div>
        </div>

        <!-- ==================== EXERCICE N¬∫3 (10 pts) ==================== -->
        <div class="Tests-Hub-test-section">
            <h2>EXERCICE N¬∫3 (10 points)</h2>
            
            <p>Le plan est muni d'un rep√®re orthonorm√© (O,i,j).</p>
            <p>On consid√®re les points : A(4,-2), B(-2,-4), C(1,2) et D(7,4).</p>
            
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">1¬∞)</span></p>
                <p><span class="Tests-Hub-question-number">a.</span> Placer les points A, B, C et D.</p>
                <!-- Rep√®re pour placer les points (canvas) -->
                <div class="Tests-Hub-diagram-container">
                    <canvas id="exercise3Canvas" class="Tests-Hub-diagram-canvas" width="500" height="300" style="width:100%; height:auto;"></canvas>
                </div>
                <p><span class="Tests-Hub-question-number">b.</span> D√©terminer les composantes des vecteurs : \(\overrightarrow{AD}\) et \(\overrightarrow{BC}\).</p>
                <p><span class="Tests-Hub-question-number">c.</span> D√©duire la nature du quadrilat√®re ABCD et calculer les coordonn√©es de son centre K.</p>
            </div>
            
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">2¬∞)</span></p>
                <p><span class="Tests-Hub-question-number">a.</span> Calculer les distances : OA, OB et AB.</p>
                <p><span class="Tests-Hub-question-number">b.</span> Montrer que le triangle OAB est rectangle en O.</p>
            </div>
            
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">3¬∞)</span></p>
                <p><span class="Tests-Hub-question-number">a.</span> D√©terminer les composantes des vecteurs : \(\overrightarrow{OB}\) et \(\overrightarrow{OC}\).</p>
                <p><span class="Tests-Hub-question-number">b.</span> D√©duire que les points O, B et C sont align√©s.</p>
            </div>
            
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">4¬∞)</span></p>
                <p><span class="Tests-Hub-question-number">a.</span> Calculer la distance : BC.</p>
                <p><span class="Tests-Hub-question-number">b.</span> D√©duire l'aire du quadrilat√®re ABCD.</p>
            </div>
        </div>
        
        <!-- Bouton afficher/cacher correction -->
        <div class="Tests-Hub-correction-toggle-container">
            <button class="Tests-Hub-toggle-button" id="toggleCorrection">Afficher la correction</button>
        </div>
        
        <!-- ==================== SECTION CORRECTION ==================== -->
        <div id="correction" class="Tests-Hub-correction-section Tests-Hub-hidden">
            <h2>Correction d√©taill√©e</h2>
            
            <div class="Tests-Hub-correction-answer">
                <p><strong>Exercice 1</strong></p>
                
                <p><strong>1¬∞)</strong> D'apr√®s le graphique de la fonction f (Œî) :</p>
                <ul style="list-style-type: none; padding-right: 20px;">
                    <li>üîµ f(0) = 1 (lecture sur l'axe des ordonn√©es)</li>
                    <li>üîµ f(2) = 3 (lecture pour x=2)</li>
                </ul>
                <p>La fonction f est affine, donc de la forme f(x) = ax + b. Avec f(0)=1 on a b=1. Avec f(2)=3 on a 2a+1=3 ‚Üí 2a=2 ‚Üí a=1. Donc f(x) = x + 1.</p>
                
                <p><strong>2¬∞)</strong> g(x) = -3x + 2</p>
                <ul style="list-style-type: none;">
                    <li><strong>a.</strong> Ant√©c√©dent de 32 : on r√©sout -3x + 2 = 32 ‚Üí -3x = 30 ‚Üí x = -10. L'ant√©c√©dent est -10.</li>
                    <li><strong>b.</strong> Pour A(20,58) : g(20) = -3√ó20 + 2 = -60 + 2 = -58 ‚â† 58, donc A n'appartient pas √† Œî'.</li>
                    <li><strong>c.</strong> Trac√© de Œî' (voir graphique ci-dessous).</li>
                </ul>
                
                <p><strong>3¬∞)</strong> In√©quation \((2x - 3)(-3x + 2) < 0\)</p>
                <p>On √©tudie le signe du produit. Racines : \(2x-3=0 \Rightarrow x=\frac{3}{2}=1,5\) ; \(-3x+2=0 \Rightarrow x=\frac{2}{3}\).</p>
                
                <!-- Tableau de signes graphique (canvas) -->
                <div class="Tests-Hub-diagram-container">
                    <canvas id="signChartCanvas" class="Tests-Hub-diagram-canvas" width="500" height="150" style="width:100%; height:auto;"></canvas>
                </div>
                
                <p>Le produit est strictement n√©gatif pour \(x \in \left]-\infty,\ \frac{2}{3}\right[ \cup \left]\frac{3}{2},\ +\infty\right[\).</p>
                <p>Donc \(S = \left]-\infty,\ \frac{2}{3}\right[ \cup \left]\frac{3}{2},\ +\infty\right[\).</p>
                
                <!-- Graphique complet pour la correction (Œî et Œî') -->
                <p><strong>Graphique des deux droites :</strong></p>
                <div class="Tests-Hub-diagram-container">
                    <canvas id="correctionFullGraphCanvas" class="Tests-Hub-diagram-canvas" width="500" height="300" style="width:100%; height:auto;"></canvas>
                </div>
                <p style="font-size:0.9em;">üîµ Œî (f) : f(x)=x+1 (bleu) ; üî¥ Œî' (g) : g(x)=-3x+2 (rouge). Les points f(0) et f(2) sont marqu√©s. Le point A(20,58) n'est pas repr√©sent√© (√©chelle trop grande).</p>
            </div>

            <!-- Correction Exercice 2 -->
            <div class="Tests-Hub-correction-answer">
                <p><strong>Exercice 2</strong></p>
                
                <p><strong>1¬∞)</strong> On r√©sout le syst√®me lin√©aire :</p>
                <p>\[
                \begin{cases}
                    4x - y = 1 \\
                    3x + 2y = 9
                \end{cases}
                \]</p>
                <p>Par substitution ou combinaison : on multiplie la premi√®re √©quation par 2 : \(8x - 2y = 2\). En ajoutant √† la seconde : \(11x = 11\) d'o√π \(x = 1\). Alors \(4(1) - y = 1\) donne \(y = 3\). La solution est \((x,y) = (1,3)\).</p>
                
                <p><strong>2¬∞)</strong> On pose \(a = z^2 \ge 0\) et \(b = t\) (r√©el). Le syst√®me devient :</p>
                <p>\[
                \begin{cases}
                    4a - |b| = 1 \\
                    3a + 2b = 9
                \end{cases}
                \]</p>
                <p>On distingue deux cas selon le signe de \(b\).</p>
                
                <p><u>Cas 1 :</u> \(b \ge 0\) alors \(|b| = b\). Le syst√®me s'√©crit :</p>
                <p>\[
                \begin{cases}
                    4a - b = 1 \\
                    3a + 2b = 9
                \end{cases}
                \]</p>
                <p>De la premi√®re, \(b = 4a - 1\). En substituant dans la seconde : \(3a + 2(4a - 1) = 9 \Rightarrow 3a + 8a - 2 = 9 \Rightarrow 11a = 11 \Rightarrow a = 1\). Alors \(b = 4 \times 1 - 1 = 3\). La condition \(b \ge 0\) est v√©rifi√©e. On a donc \(a = 1\) et \(b = 3\).</p>
                
                <p><u>Cas 2 :</u> \(b < 0\) alors \(|b| = -b\). Le syst√®me devient :</p>
                <p>\[
                \begin{cases}
                    4a + b = 1 \\
                    3a + 2b = 9
                \end{cases}
                \]</p>
                <p>De la premi√®re, \(b = 1 - 4a\). En substituant : \(3a + 2(1 - 4a) = 9 \Rightarrow 3a + 2 - 8a = 9 \Rightarrow -5a = 7 \Rightarrow a = -\dfrac{7}{5}\). Ceci est impossible car \(a \ge 0\). Donc pas de solution dans ce cas.</p>
                
                <p>Ainsi, les seules solutions sont \(a = 1\) et \(b = 3\). Puisque \(a = z^2\), on a \(z^2 = 1\) donc \(z = 1\) ou \(z = -1\). Et \(t = b = 3\).</p>
                
                <p>Les couples \((z,t)\) solutions sont donc \((1,3)\) et \((-1,3)\).</p>
            </div>

            <!-- Correction Exercice 3 -->
            <div class="Tests-Hub-correction-answer">
                <p><strong>Exercice 3</strong></p>
                
                <p><strong>1¬∞)</strong></p>
                <p><strong>a.</strong> Voir le graphique ci-dessous.</p>
                <div class="Tests-Hub-diagram-container">
                    <canvas id="correctionEx3Canvas" class="Tests-Hub-diagram-canvas" width="500" height="300" style="width:100%; height:auto;"></canvas>
                </div>
                
                <p><strong>b.</strong> Composantes :</p>
                <p>\(\overrightarrow{AD} = (7-4,\ 4-(-2)) = (3,\ 6)\)</p>
                <p>\(\overrightarrow{BC} = (1-(-2),\ 2-(-4)) = (3,\ 6)\)</p>
                
                <p><strong>c.</strong> On a \(\overrightarrow{AD} = \overrightarrow{BC}\), donc ABCD est un parall√©logramme. Son centre K est le milieu des diagonales, par exemple milieu de [AC] :</p>
                <p>\(K\left(\frac{4+1}{2},\ \frac{-2+2}{2}\right) = \left(\frac{5}{2},\ 0\right)\).</p>
                
                <p><strong>2¬∞)</strong></p>
                <p><strong>a.</strong> Distances :</p>
                <p>\(OA = \sqrt{(4-0)^2 + (-2-0)^2} = \sqrt{16+4} = \sqrt{20} = 2\sqrt{5}\)</p>
                <p>\(OB = \sqrt{(-2)^2 + (-4)^2} = \sqrt{4+16} = \sqrt{20} = 2\sqrt{5}\)</p>
                <p>\(AB = \sqrt{(4-(-2))^2 + (-2-(-4))^2} = \sqrt{6^2 + 2^2} = \sqrt{36+4} = \sqrt{40} = 2\sqrt{10}\)</p>
                
                <p><strong>b.</strong> V√©rifions la relation de Pythagore : \(OA^2 + OB^2 = 20 + 20 = 40 = AB^2\). Donc le triangle OAB est rectangle en O.</p>
                
                <p><strong>3¬∞)</strong></p>
                <p><strong>a.</strong> \(\overrightarrow{OB} = (-2, -4)\) et \(\overrightarrow{OC} = (1, 2)\).</p>
                <p><strong>b.</strong> On remarque que \(\overrightarrow{OC} = -\frac{1}{2} \overrightarrow{OB}\) car \(1 = -\frac{1}{2} \times (-2)\) et \(2 = -\frac{1}{2} \times (-4)\). Les vecteurs sont colin√©aires, donc les points O, B et C sont align√©s.</p>
                
                <p><strong>4¬∞)</strong></p>
                <p><strong>a.</strong> BC : on a d√©j√† \(\overrightarrow{BC} = (3,6)\), donc \(BC = \sqrt{3^2+6^2} = \sqrt{9+36} = \sqrt{45} = 3\sqrt{5}\).</p>
                <p><strong>b.</strong> L'aire du parall√©logramme ABCD est donn√©e par la valeur absolue du d√©terminant des vecteurs \(\overrightarrow{AB}\) et \(\overrightarrow{AD}\) (ou \(\overrightarrow{AB}\) et \(\overrightarrow{BC}\)). Calculons \(\overrightarrow{AB} = (-6, -2)\) (car B - A) et \(\overrightarrow{AD} = (3,6)\). Le d√©terminant : \((-6)*6 - (-2)*3 = -36 + 6 = -30\), valeur absolue 30. L'aire est donc 30 unit√©s d'aire.</p>
            </div>
        </div>
        
        <!-- Boutons t√©l√©chargement (placeholder) -->
        <div class="Tests-Hub-download-buttons">
            <button class="Tests-Hub-download-button pdf" id="downloadPdf">
    <span>üìÑ</span>
    <span data-i18n="TestsHub.synthesisTest.download.pdf">PDF</span>
</button>
<button class="Tests-Hub-download-button odt" id="downloadOdt">
    <span>üìù</span>
    <span data-i18n="TestsHub.synthesisTest.download.odt">ODT</span>
</button>
<button class="Tests-Hub-download-button png" id="downloadPng">
    <span>üñºÔ∏è</span>
    <span data-i18n="TestsHub.synthesisTest.download.png">PNG</span>
</button>
        </div>
    </main>
    
    <footer class="Tests-Hub-footer-container">
        <div class="Tests-Hub-footer-content">
            <div class="Tests-Hub-footer-columns">
                <div class="Tests-Hub-footer-column">
                    <h3 data-i18n="TestsHub.footer.developer">D√©veloppeur</h3>
                    <p class="Tests-Hub-developer-name">Ziad El Majri</p>
                </div>
                <div class="Tests-Hub-footer-column">
                    <h3 data-i18n="TestsHub.footer.version">Version</h3>
                    <p class="Tests-Hub-version-number">v2.2.1</p>
                </div>
                <div class="Tests-Hub-footer-column">
                    <h3>Liens</h3>
                    <ul class="Tests-Hub-footer-links-list">
                       <li><a href="#" class="Tests-Hub-footer-link" data-i18n="TestsHub.footer.terms">Conditions d'utilisation</a></li>
<li><a href="#" class="Tests-Hub-footer-link" data-i18n="TestsHub.footer.privacy">Politique de confidentialit√©</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    
    <script>
        // Gestion du th√®me, langue, etc.
        let currentLanguage = 'fr';  // Par d√©faut fran√ßais
        let isDarkTheme = false;
        
        const TestsHub_translations = {
            ar: {
                TestsHub: { synthesisTest: { title: "ÿßŸÑÿ±Ÿäÿßÿ∂Ÿäÿßÿ™ - ŸÅÿ±ÿ∂ ÿ™ÿ£ŸÑŸäŸÅŸä ÿπÿØÿØ 2 (1√®re)", subtitle: "ÿßŸÑÿ£ŸàŸÑŸâ ÿ´ÿßŸÜŸàŸä - ŸÖ.ÿ•. ŸÖŸÜŸàÿ®ÿ©", back: "ÿßŸÑÿπŸàÿØÿ© ŸÑŸÑÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™", showCorrection: "ÿπÿ±ÿ∂ ÿßŸÑÿ™ÿµÿ≠Ÿäÿ≠", hideCorrection: "ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ™ÿµÿ≠Ÿäÿ≠", download: { pdf: "PDF", odt: "ODT", png: "PNG" }, comingSoon: "ŸÇÿ±Ÿäÿ®Ÿãÿß!" }, language: { current: "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©" }, theme: { toggle: "ÿßŸÑŸàÿ∂ÿπ ÿßŸÑŸÖÿ∏ŸÑŸÖ" }, footer: { developer: "ÿßŸÑŸÖÿ∑Ÿàÿ±", version: "ÿßŸÑÿ•ÿµÿØÿßÿ±", links: "ÿßŸÑÿ±Ÿàÿßÿ®ÿ∑", terms: "ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ", privacy: "ÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©" } }
            },
            fr: {
                TestsHub: { synthesisTest: { title: "Math√©matiques - Devoir de Synth√®se N¬∞2 (1√®re)", subtitle: "1√®re Ann√©e Secondaire - Lyc√©e Sbeitla", back: "Retour aux tests", showCorrection: "Afficher la correction", hideCorrection: "Masquer la correction", download: { pdf: "PDF", odt: "ODT", png: "PNG" }, comingSoon: "Bient√¥t disponible !" }, language: { current: "Fran√ßais" }, theme: { toggle: "Mode sombre" }, footer: { developer: "D√©veloppeur", version: "Version", links: "Liens", terms: "Conditions d'utilisation", privacy: "Politique de confidentialit√©" } }
            },
            en: {
                TestsHub: { synthesisTest: { title: "Mathematics - Test N¬∞2 (9th Grade)", subtitle: "9th Grade - Manouba Prep School", back: "Back to Tests", showCorrection: "Show Correction", hideCorrection: "Hide Correction", download: { pdf: "PDF", odt: "ODT", png: "PNG" }, comingSoon: "Coming soon!" }, language: { current: "English" }, theme: { toggle: "Dark Mode" }, footer: { developer: "Developer", version: "Version", links: "Links", terms: "Terms of Use", privacy: "Privacy Policy" } }
            }
        };
        
        function updateTextContent() {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                let current = TestsHub_translations[currentLanguage];
                key.split('.').forEach(k => { if (current) current = current[k]; });
                if (typeof current === 'string') el.textContent = current;
            });
            updateThemeToggleText();
            updateCorrectionButtonText();
        }
        
        function updateThemeToggleText() {
            const themeToggle = document.querySelector('.Tests-Hub-theme-toggle span:nth-child(2)');
            const themeIcon = document.getElementById('themeIcon');
            if (themeToggle) themeToggle.textContent = isDarkTheme ? (currentLanguage === 'ar' ? 'ÿßŸÑŸàÿ∂ÿπ ÿßŸÑŸÅÿßÿ™ÿ≠' : currentLanguage === 'fr' ? 'Mode clair' : 'Light Mode') : TestsHub_translations[currentLanguage].TestsHub.theme.toggle;
            if (themeIcon) themeIcon.textContent = isDarkTheme ? '‚òÄÔ∏è' : 'üåô';
        }
        
        function updateCorrectionButtonText() {
            const btn = document.getElementById('toggleCorrection');
            const corr = document.getElementById('correction');
            if (btn) btn.textContent = corr.classList.contains('Tests-Hub-hidden') ? TestsHub_translations[currentLanguage].TestsHub.synthesisTest.showCorrection : TestsHub_translations[currentLanguage].TestsHub.synthesisTest.hideCorrection;
        }
        
        function toggleTheme() {
            isDarkTheme = !isDarkTheme;
            document.body.classList.toggle('Tests-Hub-dark-theme', isDarkTheme);
            updateThemeToggleText();
            localStorage.setItem('testsHubTheme', isDarkTheme ? 'dark' : 'light');
            redrawAllGraphs();
        }
        
        function changeLanguage(lang) {
            if (!TestsHub_translations[lang]) return;
            currentLanguage = lang;
            updateTextContent();
            document.querySelector('.Tests-Hub-language-button span:nth-child(2)').textContent = lang === 'ar' ? 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©' : lang === 'fr' ? 'Fran√ßais' : 'English';
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            document.documentElement.lang = lang;
            localStorage.setItem('testsHubLanguage', lang);
        }
        
        function downloadAsPDF() { alert(TestsHub_translations[currentLanguage]?.TestsHub?.synthesisTest?.comingSoon || "Bient√¥t disponible !"); }
        function downloadAsODT() { alert(TestsHub_translations[currentLanguage]?.TestsHub?.synthesisTest?.comingSoon || "Bient√¥t disponible !"); }
        function downloadAsPNG() { alert(TestsHub_translations[currentLanguage]?.TestsHub?.synthesisTest?.comingSoon || "Bient√¥t disponible !"); }
        
        // ========== Fonctions de dessin am√©lior√©es ==========
        // Dessine un rep√®re avec grille, axes et graduations, avec bornes donn√©es
        function drawAxes(ctx, xMin, xMax, yMin, yMax) {
            const w = ctx.canvas.width, h = ctx.canvas.height;
            const mapX = (x) => ((x - xMin) / (xMax - xMin)) * w;
            const mapY = (y) => h - ((y - yMin) / (yMax - yMin)) * h; // car y va du bas vers haut
            
            ctx.clearRect(0, 0, w, h);
            
            // Grille l√©g√®re
            ctx.strokeStyle = isDarkTheme ? '#555' : '#ddd';
            ctx.lineWidth = 0.5;
            // Lignes verticales pour les entiers dans l'intervalle
            for (let i = Math.ceil(xMin); i <= Math.floor(xMax); i++) {
                if (i === 0) continue; // laisser les axes principaux pour apr√®s
                ctx.beginPath();
                ctx.moveTo(mapX(i), mapY(yMin));
                ctx.lineTo(mapX(i), mapY(yMax));
                ctx.strokeStyle = isDarkTheme ? '#444' : '#e0e0e0';
                ctx.stroke();
            }
            // Lignes horizontales
            for (let j = Math.ceil(yMin); j <= Math.floor(yMax); j++) {
                if (j === 0) continue;
                ctx.beginPath();
                ctx.moveTo(mapX(xMin), mapY(j));
                ctx.lineTo(mapX(xMax), mapY(j));
                ctx.strokeStyle = isDarkTheme ? '#444' : '#e0e0e0';
                ctx.stroke();
            }
            
            // Axes principaux (plus √©pais)
            ctx.strokeStyle = isDarkTheme ? '#ccc' : '#333';
            ctx.lineWidth = 2;
            // Axe X
            ctx.beginPath();
            ctx.moveTo(mapX(xMin), mapY(0));
            ctx.lineTo(mapX(xMax), mapY(0));
            ctx.stroke();
            // Axe Y
            ctx.beginPath();
            ctx.moveTo(mapX(0), mapY(yMin));
            ctx.lineTo(mapX(0), mapY(yMax));
            ctx.stroke();
            
            // Graduations et labels
            ctx.fillStyle = isDarkTheme ? '#eee' : '#222';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'top';
            for (let i = Math.ceil(xMin); i <= Math.floor(xMax); i++) {
                if (i === 0) continue;
                ctx.fillText(i, mapX(i), mapY(0) + 5);
            }
            ctx.textAlign = 'right';
            ctx.textBaseline = 'middle';
            for (let j = Math.ceil(yMin); j <= Math.floor(yMax); j++) {
                if (j === 0) continue;
                ctx.fillText(j, mapX(0) - 5, mapY(j));
            }
            // Label O
            ctx.fillStyle = isDarkTheme ? '#eee' : '#222';
            ctx.textAlign = 'right';
            ctx.textBaseline = 'top';
            ctx.fillText('O', mapX(0) - 5, mapY(0) + 5);
            
            // Labels axes
            ctx.fillStyle = isDarkTheme ? '#60a5fa' : '#1e3a8a';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('x', mapX(xMax) - 15, mapY(0) - 15);
            ctx.fillText('y', mapX(0) + 10, mapY(yMax) - 10);
        }

        // Dessine une droite affine y = a*x + b
        function drawLine(ctx, a, b, color, label, xMin, xMax, yMin, yMax) {
            const w = ctx.canvas.width, h = ctx.canvas.height;
            const mapX = (x) => ((x - xMin) / (xMax - xMin)) * w;
            const mapY = (y) => h - ((y - yMin) / (yMax - yMin)) * h;
            
            ctx.beginPath();
            ctx.strokeStyle = color;
            ctx.lineWidth = 3;
            let x1 = xMin, y1 = a*x1 + b;
            let x2 = xMax, y2 = a*x2 + b;
            ctx.moveTo(mapX(x1), mapY(y1));
            ctx.lineTo(mapX(x2), mapY(y2));
            ctx.stroke();
            
            // Ajouter le label √† c√¥t√© de la droite (vers la droite)
            ctx.fillStyle = color;
            ctx.font = 'bold 14px Arial';
            ctx.shadowColor = isDarkTheme ? '#000' : '#fff';
            ctx.shadowBlur = 4;
            ctx.fillText(label, mapX(5), mapY(a*5 + b) - 8);
            ctx.shadowBlur = 0;
        }

        // Dessine un point (x,y) avec une √©tiquette
        function drawPoint(ctx, x, y, color, label, xMin, xMax, yMin, yMax) {
            const w = ctx.canvas.width, h = ctx.canvas.height;
            const mapX = (x) => ((x - xMin) / (xMax - xMin)) * w;
            const mapY = (y) => h - ((y - yMin) / (yMax - yMin)) * h;
            
            ctx.beginPath();
            ctx.arc(mapX(x), mapY(y), 6, 0, 2 * Math.PI);
            ctx.fillStyle = color;
            ctx.shadowColor = isDarkTheme ? '#000' : '#ccc';
            ctx.shadowBlur = 4;
            ctx.fill();
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.shadowBlur = 0;
            
            ctx.fillStyle = color;
            ctx.font = 'bold 12px Arial';
            ctx.textAlign = 'left';
            ctx.shadowColor = isDarkTheme ? '#000' : '#fff';
            ctx.shadowBlur = 4;
            ctx.fillText(label, mapX(x) + 8, mapY(y) - 8);
            ctx.shadowBlur = 0;
        }
        
        // Dessin du graphique pour l'exercice 1 (seulement Œî f) avec points f(0) et f(2)
        function drawExerciseDelta() {
            const canvas = document.getElementById('exerciseDeltaCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const containerWidth = canvas.parentElement.clientWidth;
            canvas.width = containerWidth;
            canvas.height = containerWidth * 0.5;
            
            const xMin = -1, xMax = 6, yMin = -2, yMax = 8;
            drawAxes(ctx, xMin, xMax, yMin, yMax);
            // Tracer f(x)=x+1
            drawLine(ctx, 1, 1, '#3b82f6', 'Œî', xMin, xMax, yMin, yMax);
            // Marquer les points f(0)=1 et f(2)=3
            drawPoint(ctx, 0, 1, '#3b82f6', 'f(0)', xMin, xMax, yMin, yMax);
            drawPoint(ctx, 2, 3, '#3b82f6', 'f(2)', xMin, xMax, yMin, yMax);
        }
        
        // Dessin complet pour la correction de l'exercice 1 (les deux droites) avec points remarquables
        function drawCorrectionGraph() {
            const canvas = document.getElementById('correctionFullGraphCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const containerWidth = canvas.parentElement.clientWidth;
            canvas.width = containerWidth;
            canvas.height = containerWidth * 0.5;
            
            const xMin = -1, xMax = 6, yMin = -2, yMax = 8;
            drawAxes(ctx, xMin, xMax, yMin, yMax);
            // f en bleu
            drawLine(ctx, 1, 1, '#3b82f6', 'Œî', xMin, xMax, yMin, yMax);
            // g en rouge
            drawLine(ctx, -3, 2, '#f97316', 'g(x)=-3x+2', xMin, xMax, yMin, yMax);
            
            // Marquer les points f(0), f(2)
            drawPoint(ctx, 0, 1, '#3b82f6', 'f(0)', xMin, xMax, yMin, yMax);
            drawPoint(ctx, 2, 3, '#3b82f6', 'f(2)', xMin, xMax, yMin, yMax);
            
            // Intersection
            drawPoint(ctx, 0.25, 1.25, '#8b5cf6', 'intersection', xMin, xMax, yMin, yMax);
            
            // Racines
            drawPoint(ctx, 2/3, 0, '#f97316', '2/3', xMin, xMax, yMin, yMax);
            drawPoint(ctx, 1.5, 0, '#f97316', '1.5', xMin, xMax, yMin, yMax);
        }
        
        // Nouvelle fonction pour dessiner le tableau de signes graphique
        function drawSignChart() {
            const canvas = document.getElementById('signChartCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const containerWidth = canvas.parentElement.clientWidth;
            canvas.width = containerWidth;
            canvas.height = 150; // hauteur fixe adapt√©e
            
            const w = canvas.width;
            const h = canvas.height;
            ctx.clearRect(0, 0, w, h);
            
            // Marges
            const leftMargin = 60;
            const rightMargin = 60;
            const axisY = 80; // hauteur de l'axe
            
            // √âchelle : on repr√©sente l'axe de -‚àû √† +‚àû symboliquement avec les points 2/3 et 3/2
            // On place 2/3 √† 30% de la largeur utile, 3/2 √† 70%
            const xA = leftMargin + (w - leftMargin - rightMargin) * 0.3; // 2/3
            const xB = leftMargin + (w - leftMargin - rightMargin) * 0.7; // 3/2
            
            // Dessiner l'axe horizontal
            ctx.beginPath();
            ctx.moveTo(leftMargin - 10, axisY);
            ctx.lineTo(w - rightMargin + 10, axisY);
            ctx.strokeStyle = isDarkTheme ? '#60a5fa' : '#1e3a8a';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // Fl√®ches aux extr√©mit√©s
            ctx.fillStyle = isDarkTheme ? '#60a5fa' : '#1e3a8a';
            ctx.beginPath();
            ctx.moveTo(leftMargin - 15, axisY - 5);
            ctx.lineTo(leftMargin - 10, axisY);
            ctx.lineTo(leftMargin - 15, axisY + 5);
            ctx.fill();
            ctx.beginPath();
            ctx.moveTo(w - rightMargin + 15, axisY - 5);
            ctx.lineTo(w - rightMargin + 10, axisY);
            ctx.lineTo(w - rightMargin + 15, axisY + 5);
            ctx.fill();
            
            // Marquer les points critiques
            ctx.fillStyle = isDarkTheme ? '#fbbf24' : '#d97706';
            ctx.beginPath();
            ctx.arc(xA, axisY, 5, 0, 2 * Math.PI);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(xB, axisY, 5, 0, 2 * Math.PI);
            ctx.fill();
            
            // √âtiquettes des points
            ctx.font = 'bold 14px Arial';
            ctx.fillStyle = isDarkTheme ? '#eee' : '#222';
            ctx.fillText('2/3', xA - 15, axisY - 20);
            ctx.fillText('3/2', xB - 15, axisY - 20);
            
            // Signes au-dessus de l'axe
            ctx.font = 'bold 22px Arial';
            ctx.fillStyle = isDarkTheme ? '#4ade80' : '#16a34a';
            ctx.fillText('‚àí', leftMargin + 20, axisY - 25);
            ctx.fillText('+', (xA + xB) / 2 - 10, axisY - 25);
            ctx.fillText('‚àí', w - rightMargin - 30, axisY - 25);
            
            // Z√©ros en dessous
            ctx.font = 'bold 16px Arial';
            ctx.fillStyle = isDarkTheme ? '#f87171' : '#b91c1c';
            ctx.fillText('0', xA - 7, axisY + 25);
            ctx.fillText('0', xB - 7, axisY + 25);
            
            // Indications -‚àû et +‚àû
            ctx.font = 'italic 14px Arial';
            ctx.fillStyle = isDarkTheme ? '#ccc' : '#333';
            ctx.fillText('‚àí‚àû', leftMargin - 40, axisY - 15);
            ctx.fillText('+‚àû', w - rightMargin + 25, axisY - 15);
        }

        // Dessin du rep√®re pour l'exercice 3 (√©nonc√©) - juste le rep√®re
        function drawExercise3() {
            const canvas = document.getElementById('exercise3Canvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const containerWidth = canvas.parentElement.clientWidth;
            canvas.width = containerWidth;
            canvas.height = containerWidth * 0.5;
            
            // Bornes pour voir tous les points : A(4,-2), B(-2,-4), C(1,2), D(7,4)
            // On prend x de -3 √† 8, y de -5 √† 5
            const xMin = -3, xMax = 8, yMin = -5, yMax = 5;
            drawAxes(ctx, xMin, xMax, yMin, yMax);
            // On ne dessine pas les points, c'est √† l'√©l√®ve de les placer. Donc juste le rep√®re.
        }

        // Dessin de la correction pour l'exercice 3 : points et quadrilat√®re
        function drawCorrectionEx3() {
            const canvas = document.getElementById('correctionEx3Canvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const containerWidth = canvas.parentElement.clientWidth;
            canvas.width = containerWidth;
            canvas.height = containerWidth * 0.5;
            
            const xMin = -3, xMax = 8, yMin = -5, yMax = 5;
            drawAxes(ctx, xMin, xMax, yMin, yMax);
            
            const w = canvas.width, h = canvas.height;
            const mapX = (x) => ((x - xMin) / (xMax - xMin)) * w;
            const mapY = (y) => h - ((y - yMin) / (yMax - yMin)) * h;
            
            // Dessiner les points
            drawPoint(ctx, 4, -2, '#3b82f6', 'A', xMin, xMax, yMin, yMax);
            drawPoint(ctx, -2, -4, '#f97316', 'B', xMin, xMax, yMin, yMax);
            drawPoint(ctx, 1, 2, '#10b981', 'C', xMin, xMax, yMin, yMax);
            drawPoint(ctx, 7, 4, '#8b5cf6', 'D', xMin, xMax, yMin, yMax);
            
            // Tracer les c√¥t√©s du parall√©logramme
            ctx.strokeStyle = '#3b82f6';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(mapX(4), mapY(-2));
            ctx.lineTo(mapX(-2), mapY(-4));
            ctx.lineTo(mapX(1), mapY(2));
            ctx.lineTo(mapX(7), mapY(4));
            ctx.closePath();
            ctx.stroke();
            
            // Optionnel : tracer les diagonales en pointill√©s
            ctx.strokeStyle = isDarkTheme ? '#aaa' : '#666';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(mapX(4), mapY(-2));
            ctx.lineTo(mapX(1), mapY(2));
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(mapX(-2), mapY(-4));
            ctx.lineTo(mapX(7), mapY(4));
            ctx.stroke();
            ctx.setLineDash([]); // r√©initialiser
        }
        
        // redrawAllGraphs ne dessine que les canvas visibles
        function redrawAllGraphs() {
            drawExerciseDelta(); // toujours visible
            drawExercise3(); // toujours visible
            const correction = document.getElementById('correction');
            const correctionVisible = !correction.classList.contains('Tests-Hub-hidden');
            if (correctionVisible) {
                drawSignChart();       // tableau de signes
                drawCorrectionGraph(); // graphique complet ex1
                drawCorrectionEx3();   // graphique ex3
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('testsHubTheme');
            if (savedTheme === 'dark') {
                isDarkTheme = true;
                document.body.classList.add('Tests-Hub-dark-theme');
            }
            const savedLanguage = localStorage.getItem('testsHubLanguage');
            if (savedLanguage && TestsHub_translations[savedLanguage]) {
                currentLanguage = savedLanguage;
            }
            if (currentLanguage === 'ar') document.documentElement.dir = 'rtl';
            else document.documentElement.dir = 'ltr';
            
            updateTextContent();
            
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "$", right: "$", display: false},
                    {left: "\\(", right: "\\)", display: false},
                    {left: "\\[", right: "\\]", display: true}
                ],
                throwOnError: false
            });
            
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            
            document.querySelectorAll('.Tests-Hub-language-option').forEach(opt => {
                opt.addEventListener('click', function() {
                    changeLanguage(this.getAttribute('data-language'));
                });
            });
            
            document.getElementById('downloadPdf').addEventListener('click', downloadAsPDF);
            document.getElementById('downloadOdt').addEventListener('click', downloadAsODT);
            document.getElementById('downloadPng').addEventListener('click', downloadAsPNG);
            
            const correctionBtn = document.getElementById('toggleCorrection');
            correctionBtn.addEventListener('click', function() {
                const corr = document.getElementById('correction');
                corr.classList.toggle('Tests-Hub-hidden');
                updateCorrectionButtonText();
                redrawAllGraphs(); // redessine tout selon la visibilit√©
                renderMathInElement(corr, { delimiters: [{left: "$$", right: "$$", display: true}, {left: "$", right: "$", display: false}], throwOnError: false });
            });
            
            // Dessin initial
            redrawAllGraphs();
            window.addEventListener('resize', redrawAllGraphs);
        });
    </script>
</body>
</html>