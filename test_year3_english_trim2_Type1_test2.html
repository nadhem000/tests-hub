<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tests Hub - English Test N¬∞2 - 3rd Year Arts (2010)</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#2563EB">
    <meta name="description" content="English Mid Term Test N¬∞2 for 3rd Year Arts - February 2010 - Lyc√©e Mustapha Fourati">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Tests Hub - English Test">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Tests Hub">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="assets/icons/icon-152x152.png">
    <link rel="apple-touch-icon" sizes="152x152" href="assets/icons/icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/icon-192x192.png">
    <link rel="apple-touch-icon" sizes="167x167" href="assets/icons/icon-192x192.png">
    
    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <style>
        /* ===== BLUE THEME STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: background 0.3s ease, color 0.3s ease;
            color: #1F2937;
            line-height: 1.6;
        }
        
        body.Tests-Hub-dark-theme {
            background: linear-gradient(135deg, #1E3A8A 0%, #1E40AF 100%);
            color: #DBEAFE;
        }
        
        /* ===== TYPOGRAPHY ===== */
        .Tests-Hub-title-main {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
            color: inherit;
        }
        
        .Tests-Hub-subtitle {
            font-size: 1rem;
            opacity: 0.9;
            margin-top: 3px;
            color: inherit;
        }
        
        .Tests-Hub-heading-primary {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: inherit;
        }
        
        .Tests-Hub-heading-secondary {
            font-size: 1.3rem;
            font-weight: 600;
            margin: 1.5rem 0 1rem;
            color: inherit;
            padding-bottom: 8px;
            border-bottom: 2px solid #3B82F6;
        }
        
        .Tests-Hub-heading-tertiary {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 1.25rem 0 0.75rem;
            color: inherit;
        }
        
        .Tests-Hub-heading-section {
            color: #1D4ED8;
            border-bottom: 2px solid #2563EB;
            padding-bottom: 8px;
            margin-bottom: 1.5rem;
            font-size: 1.4rem;
            font-weight: 700;
            transition: color 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-heading-section {
            color: #60A5FA;
        }
        
        .Tests-Hub-heading-subsection {
            color: #2563EB;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-size: 1.2rem;
            font-weight: 600;
            transition: color 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-heading-subsection {
            color: #93C5FD;
        }
        
        .Tests-Hub-heading-question {
            color: #1D4ED8;
            font-weight: 700;
            margin: 0.5rem 0;
            font-size: 1.1rem;
            transition: color 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-heading-question {
            color: #60A5FA;
        }
        
        .Tests-Hub-paragraph {
            margin-bottom: 1rem;
            text-align: justify;
        }
        
        .Tests-Hub-paragraph-indent {
            text-indent: 1.5rem;
        }
        
        .Tests-Hub-text-italic {
            font-style: italic;
        }
        
        .Tests-Hub-text-bold {
            font-weight: 700;
            color: #1D4ED8;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-text-bold {
            color: #60A5FA;
        }
        
        .Tests-Hub-text-highlight {
            background: rgba(59, 130, 246, 0.1);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-weight: 600;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-text-highlight {
            background: rgba(96, 165, 250, 0.2);
        }
        
        .Tests-Hub-text-label {
            display: inline-block;
            background: #2563EB;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.85rem;
            margin-right: 10px;
            font-weight: 600;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-text-label {
            background: #3B82F6;
        }
        
        .Tests-Hub-text-note {
            font-style: italic;
            color: #6B7280;
            margin: 0.5rem 0;
            font-size: 0.95rem;
            transition: color 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-text-note {
            color: #D1D5DB;
        }
        
        .Tests-Hub-text-explanation {
            color: #4B5563;
            font-size: 0.95rem;
            line-height: 1.5;
            margin: 0.75rem 0;
            padding-left: 1rem;
            border-left: 3px solid #2563EB;
            transition: color 0.3s ease, border-color 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-text-explanation {
            color: #D1D5DB;
            border-left-color: #60A5FA;
        }
        
        .Tests-Hub-text-correction {
            color: #1D4ED8;
            font-weight: 600;
            margin: 0.5rem 0;
            transition: color 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-text-correction {
            color: #60A5FA;
        }
        
        .Tests-Hub-text-warning {
            color: #D97706;
            font-weight: 600;
            background: rgba(217, 119, 6, 0.1);
            padding: 0.75rem;
            border-radius: 6px;
            border-left: 4px solid #D97706;
            margin: 1rem 0;
            transition: all 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-text-warning {
            color: #FBBF24;
            background: rgba(217, 119, 6, 0.2);
            border-left-color: #FBBF24;
        }
        
        .Tests-Hub-text-success {
            color: #059669;
            font-weight: 600;
            transition: color 0.3s ease;
        }
        
        .Tests-Hub-text-error {
            color: #DC2626;
            font-weight: 600;
            transition: color 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-text-error {
            color: #F87171;
        }
        
        /* ===== LAYOUT ===== */
        .Tests-Hub-container {
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }
        
        .Tests-Hub-content-container {
            flex: 1;
            max-width: 1000px;
            margin: 2rem auto;
            padding: 0 2rem;
            width: 100%;
        }
        
        .Tests-Hub-flex-row {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .Tests-Hub-flex-col {
            display: flex;
            flex-direction: column;
        }
        
        .Tests-Hub-grid-cols-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }
        
        /* ===== COMPONENTS ===== */
        .Tests-Hub-header-container {
            background: linear-gradient(to right, #1D4ED8, #2563EB);
            color: white;
            padding: 1.5rem 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: background 0.3s ease;
            position: relative;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-header-container {
            background: linear-gradient(to right, #1E3A8A, #1D4ED8, #2563EB);
        }
        
        .Tests-Hub-header-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .Tests-Hub-button {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.3s ease;
            font-size: 0.95rem;
            text-decoration: none;
        }
        
        .Tests-Hub-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .Tests-Hub-button-primary {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background: linear-gradient(to right, #2563EB, #3B82F6);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .Tests-Hub-button-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .Tests-Hub-button-download {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-width: 100px;
            height: 100px;
            padding: 1rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .Tests-Hub-button-download:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }
        
        .Tests-Hub-language-selector {
            position: relative;
        }
        
        .Tests-Hub-language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            min-width: 120px;
            display: none;
            z-index: 100;
        }
        
        .Tests-Hub-language-selector:hover .Tests-Hub-language-dropdown {
            display: block;
        }
        
        .Tests-Hub-language-option {
            padding: 0.8rem 1rem;
            color: #333;
            cursor: pointer;
            transition: background 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .Tests-Hub-language-option:hover {
            background: #f0f0f0;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-language-dropdown {
            background: #1E3A8A;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-language-option {
            color: #DBEAFE;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-language-option:hover {
            background: #1D4ED8;
        }
        
        .Tests-Hub-test-header {
            text-align: center;
            background: linear-gradient(to right, #2563EB, #3B82F6);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-test-header {
            background: linear-gradient(to right, #1E3A8A, #1D4ED8);
        }
        
        .Tests-Hub-test-section {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: background 0.3s ease, color 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-test-section {
            background: #1E40AF;
            color: #DBEAFE;
        }
        
        .Tests-Hub-instructions-container {
            background: #EFF6FF;
            padding: 1rem;
            border-left: 4px solid #2563EB;
            margin-bottom: 1.5rem;
            border-radius: 5px;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-instructions-container {
            background: #1E3A8A;
            border-left-color: #3B82F6;
        }
        
        .Tests-Hub-text-container {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-left: 4px solid #2563EB;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 12px 12px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-text-container {
            background: linear-gradient(135deg, #1E40AF 0%, #1E3A8A 100%);
            border-left-color: #3B82F6;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .Tests-Hub-text-passage {
            line-height: 1.6;
            font-size: 16px;
            text-align: justify;
            margin-bottom: 1.5rem;
            position: relative;
            padding: 1.5rem;
        }
        
        .Tests-Hub-text-passage::before {
            content: '"';
            font-size: 4rem;
            color: rgba(37, 99, 235, 0.1);
            position: absolute;
            top: 10px;
            left: 20px;
            font-family: Georgia, serif;
            line-height: 1;
        }
        
        .Tests-Hub-text-passage::after {
            content: '"';
            font-size: 4rem;
            color: rgba(37, 99, 235, 0.1);
            position: absolute;
            bottom: 10px;
            right: 20px;
            font-family: Georgia, serif;
            line-height: 1;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-text-passage::before,
        .Tests-Hub-dark-theme .Tests-Hub-text-passage::after {
            color: rgba(59, 130, 246, 0.1);
        }
        
        .Tests-Hub-question-container {
            margin: 1.2rem 0;
            padding-left: 10px;
        }
        
        .Tests-Hub-question-number {
            font-weight: bold;
            color: #2563EB;
            display: inline-block;
            margin-right: 8px;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-question-number {
            color: #3B82F6;
        }
        
        .Tests-Hub-answer-input {
            display: inline-block;
            min-width: 100px;
            border: 1px solid #aaa;
            border-radius: 4px;
            margin: 0 5px;
            padding: 5px;
            height: 30px;
            font-family: inherit;
            font-size: 14px;
            resize: none;
            vertical-align: middle;
        }
        
        .Tests-Hub-answer-textarea {
            width: 100%;
            min-height: 120px;
            border: 1px solid #aaa;
            border-radius: 4px;
            padding: 10px;
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
            margin-top: 10px;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-answer-input,
        .Tests-Hub-dark-theme .Tests-Hub-answer-textarea {
            border-color: #6B7280;
            background-color: #1E40AF;
            color: #DBEAFE;
        }
        
        .Tests-Hub-multiple-choice-container {
            margin: 10px 0;
        }
        
        .Tests-Hub-choice-option {
            display: flex;
            align-items: center;
            margin: 5px 0;
            cursor: pointer;
        }
        
        .Tests-Hub-choice-option input {
            margin-right: 10px;
        }
        
        .Tests-Hub-correction-container {
            text-align: center;
            margin: 2rem 0;
        }
        
        .Tests-Hub-correction-section {
            background: #EFF6FF;
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            border-left: 4px solid #2563EB;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-correction-section {
            background: #1E3A8A;
            border-left-color: #3B82F6;
        }
        
        .Tests-Hub-correction-answer {
            background: rgba(37, 99, 235, 0.05);
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
            border-left: 3px solid #2563EB;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-correction-answer {
            background: rgba(59, 130, 246, 0.1);
            border-left-color: #3B82F6;
        }
        
        .Tests-Hub-download-section {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 2.5rem 0;
            padding: 1.5rem;
            background: linear-gradient(to right, rgba(37, 99, 235, 0.1), rgba(59, 130, 246, 0.1));
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-download-section {
            background: linear-gradient(to right, rgba(30, 58, 138, 0.2), rgba(37, 99, 235, 0.2));
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .Tests-Hub-footer-container {
            background: linear-gradient(to right, #1D4ED8, #2563EB);
            color: white;
            padding: 2rem;
            margin-top: auto;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-footer-container {
            background: linear-gradient(to right, #1E3A8A, #1D4ED8, #2563EB);
        }
        
        .Tests-Hub-footer-column {
            text-align: center;
        }
        
        .Tests-Hub-footer-heading {
            color: #DBEAFE;
            margin-bottom: 1rem;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .Tests-Hub-footer-links-list {
            list-style: none;
        }
        
        .Tests-Hub-footer-link {
            color: #DBEAFE;
            text-decoration: none;
            display: inline-block;
            margin: 0.5rem 0;
            transition: color 0.3s ease;
        }
        
        .Tests-Hub-footer-link:hover {
            color: white;
            text-decoration: underline;
        }
        
        .Tests-Hub-developer-name {
            font-weight: 600;
            color: #DBEAFE;
        }
        
        .Tests-Hub-version-number {
            font-weight: 600;
            color: #DBEAFE;
        }
        
        /* Download Button Colors */
        .Tests-Hub-download-pdf {
            background: linear-gradient(135deg, #2563EB, #3B82F6);
            color: white;
        }
        
        .Tests-Hub-download-pdf:hover {
            background: linear-gradient(135deg, #1D4ED8, #2563EB);
        }
        
        .Tests-Hub-download-odt {
            background: linear-gradient(135deg, #059669, #10B981);
            color: white;
        }
        
        .Tests-Hub-download-odt:hover {
            background: linear-gradient(135deg, #047857, #059669);
        }
        
        .Tests-Hub-download-png {
            background: linear-gradient(135deg, #8B5CF6, #A78BFA);
            color: white;
        }
        
        .Tests-Hub-download-png:hover {
            background: linear-gradient(135deg, #7C3AED, #8B5CF6);
        }
        
        /* Activity Table Styling */
        .Tests-Hub-activity-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        
        .Tests-Hub-activity-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
            transition: background 0.3s ease, border-color 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-activity-table td {
            border-color: #4B5563;
        }
        
        .Tests-Hub-activity-option {
            padding: 8px 16px;
            background: #EFF6FF;
            border-radius: 4px;
            margin: 4px;
            display: inline-block;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .Tests-Hub-activity-option:hover {
            background: #DBEAFE;
            transform: translateY(-2px);
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-activity-option {
            background: #1E40AF;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-activity-option:hover {
            background: #1D4ED8;
        }
        
        .Tests-Hub-activity-option.selected {
            background: #2563EB;
            color: white;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-activity-option.selected {
            background: #3B82F6;
        }
        
        /* Phonetic transcription styling */
        .Tests-Hub-phonetic-container {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 1rem 0;
            flex-wrap: wrap;
        }
        
        .Tests-Hub-phonetic-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem;
            background: #EFF6FF;
            border-radius: 8px;
            min-width: 150px;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-phonetic-item {
            background: #1E40AF;
        }
        
        .Tests-Hub-phonetic-symbols {
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            font-weight: bold;
            color: #2563EB;
            margin-bottom: 0.5rem;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-phonetic-symbols {
            color: #60A5FA;
        }
        
        /* Page divider */
        .Tests-Hub-page-divider {
            text-align: center;
            margin: 2rem 0;
            padding: 1rem;
            position: relative;
        }
        
        .Tests-Hub-page-divider::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(to right, transparent, #2563EB, transparent);
            z-index: 1;
        }
        
        .Tests-Hub-page-divider span {
            background: white;
            padding: 0 1rem;
            position: relative;
            z-index: 2;
            color: #2563EB;
            font-weight: bold;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-page-divider span {
            background: #1E40AF;
            color: #60A5FA;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-page-divider::before {
            background: linear-gradient(to right, transparent, #60A5FA, transparent);
        }
        
        /* ===== AUDIO PLAYER STYLES ===== */
        .Tests-Hub-audio-player {
            background: linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border: 2px solid #3B82F6;
            transition: all 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-audio-player {
            background: linear-gradient(135deg, #1E3A8A 0%, #1E40AF 100%);
            border-color: #60A5FA;
        }
        
        .Tests-Hub-audio-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 1rem;
        }
        
        .Tests-Hub-audio-icon {
            font-size: 1.8rem;
            color: #2563EB;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-audio-icon {
            color: #60A5FA;
        }
        
        .Tests-Hub-audio-title {
            font-weight: 600;
            font-size: 1.1rem;
            color: #1D4ED8;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-audio-title {
            color: #93C5FD;
        }
        
        .Tests-Hub-audio-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        
        .Tests-Hub-audio-btn {
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }
        
        .Tests-Hub-audio-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .Tests-Hub-audio-btn-play {
            background: linear-gradient(to right, #10B981, #059669);
            color: white;
        }
        
        .Tests-Hub-audio-btn-pause {
            background: linear-gradient(to right, #F59E0B, #D97706);
            color: white;
        }
        
        .Tests-Hub-audio-btn-stop {
            background: linear-gradient(to right, #EF4444, #DC2626);
            color: white;
        }
        
        .Tests-Hub-audio-btn-restart {
            background: linear-gradient(to right, #8B5CF6, #7C3AED);
            color: white;
        }
        
        .Tests-Hub-audio-volume-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-left: auto;
            background: rgba(37, 99, 235, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-audio-volume-container {
            background: rgba(59, 130, 246, 0.2);
        }
        
        .Tests-Hub-audio-volume-icon {
            font-size: 1.2rem;
            color: #2563EB;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-audio-volume-icon {
            color: #60A5FA;
        }
        
        .Tests-Hub-audio-volume-slider {
            width: 120px;
            height: 8px;
            -webkit-appearance: none;
            appearance: none;
            background: #DBEAFE;
            border-radius: 4px;
            outline: none;
        }
        
        .Tests-Hub-audio-volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #2563EB;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-audio-volume-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #2563EB;
            cursor: pointer;
            border: none;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-audio-volume-slider {
            background: #1E3A8A;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-audio-volume-slider::-webkit-slider-thumb {
            background: #60A5FA;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-audio-volume-slider::-moz-range-thumb {
            background: #60A5FA;
        }
        
        .Tests-Hub-audio-progress-container {
            width: 100%;
            margin-top: 0.5rem;
        }
        
        .Tests-Hub-audio-progress-bar {
            width: 100%;
            height: 8px;
            background: #DBEAFE;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .Tests-Hub-audio-progress {
            height: 100%;
            background: linear-gradient(to right, #2563EB, #3B82F6);
            width: 0%;
            transition: width 0.1s linear;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-audio-progress-bar {
            background: #1E3A8A;
        }
        
        .Tests-Hub-audio-time {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 0.85rem;
            color: #6B7280;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-audio-time {
            color: #D1D5DB;
        }
        
        .Tests-Hub-audio-status {
            text-align: center;
            padding: 0.5rem;
            margin-top: 0.5rem;
            background: rgba(37, 99, 235, 0.05);
            border-radius: 6px;
            font-size: 0.9rem;
            color: #2563EB;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-audio-status {
            background: rgba(59, 130, 246, 0.1);
            color: #60A5FA;
        }
        
        /* Utility Classes */
        .Tests-Hub-hidden {
            display: none;
        }
        
        .Tests-Hub-text-center {
            text-align: center;
        }
        
        .Tests-Hub-text-right {
            text-align: right;
        }
        
        .Tests-Hub-mb-1 {
            margin-bottom: 1rem;
        }
        
        .Tests-Hub-mb-2 {
            margin-bottom: 2rem;
        }
        
        .Tests-Hub-mt-1 {
            margin-top: 1rem;
        }
        
        .Tests-Hub-mt-2 {
            margin-top: 2rem;
        }
        
        .Tests-Hub-ml-1 {
            margin-left: 1rem;
        }
        
        .Tests-Hub-pl-1 {
            padding-left: 1rem;
        }
        
        /* Table Styling */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px 15px;
            text-align: left;
            transition: background 0.3s ease, border-color 0.3s ease;
        }
        
        th {
            background: #2563EB;
            color: white;
            font-weight: 600;
        }
        
        .Tests-Hub-dark-theme th {
            background: #1D4ED8;
        }
        
        tr:nth-child(even) {
            background: #EFF6FF;
        }
        
        .Tests-Hub-dark-theme tr:nth-child(even) {
            background: #1E40AF;
        }
        
        .Tests-Hub-dark-theme td {
            border-color: #1E3A8A;
        }
        
        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .Tests-Hub-header-content {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
            
            .Tests-Hub-title-main {
                font-size: 1.5rem;
            }
            
            .Tests-Hub-header-controls {
                margin-top: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .Tests-Hub-content-container {
                padding: 0 1rem;
            }
            
            .Tests-Hub-grid-cols-3 {
                grid-template-columns: 1fr;
                gap: 1.5rem;
                text-align: center;
            }
            
            .Tests-Hub-answer-input {
                height: 25px;
                font-size: 12px;
            }
            
            .Tests-Hub-answer-textarea {
                min-height: 100px;
                font-size: 12px;
            }
            
            .Tests-Hub-download-section {
                flex-direction: column;
                align-items: center;
                gap: 15px;
                padding: 1rem;
            }
            
            .Tests-Hub-button-download {
                width: 80%;
                max-width: 250px;
                height: 80px;
                flex-direction: row;
                justify-content: flex-start;
                padding: 1rem 1.5rem;
            }
            
            .Tests-Hub-button-download span:first-child {
                font-size: 1.8rem;
                margin-bottom: 0;
                margin-right: 15px;
            }
            
            table {
                font-size: 0.9rem;
            }
            
            th, td {
                padding: 8px 10px;
            }
            
            .Tests-Hub-phonetic-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .Tests-Hub-phonetic-item {
                width: 100%;
            }
            
            .Tests-Hub-activity-table {
                display: block;
                overflow-x: auto;
            }
            
            .Tests-Hub-audio-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .Tests-Hub-audio-volume-container {
                margin-left: 0;
                margin-top: 10px;
                justify-content: center;
            }
            
            .Tests-Hub-audio-volume-slider {
                width: 100px;
            }
        }
        
        @media (max-width: 480px) {
            .Tests-Hub-heading-primary {
                font-size: 1.2rem;
            }
            
            .Tests-Hub-test-section {
                padding: 1rem;
            }
            
            .Tests-Hub-header-container {
                padding: 1rem;
            }
            
            .Tests-Hub-download-section {
                gap: 10px;
            }
            
            .Tests-Hub-button-download {
                height: 70px;
                font-size: 1rem;
                padding: 0.8rem 1.2rem;
            }
            
            .Tests-Hub-button-download span:first-child {
                font-size: 1.5rem;
                margin-right: 10px;
            }
            
            .Tests-Hub-audio-btn {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
            
            .Tests-Hub-audio-volume-slider {
                width: 80px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="Tests-Hub-header-container">
        <div class="Tests-Hub-header-content Tests-Hub-container Tests-Hub-flex-row">
            <div class="Tests-Hub-flex-row">
                <img src="assets/icons/icon-96x96.png" alt="Tests Hub Logo" class="Tests-Hub-header-icon">
                <div>
                    <h1 class="Tests-Hub-title-main" data-i18n="TestsHub.englishTest.title">English - Mid Term Test N¬∞2</h1>
                    <div class="Tests-Hub-subtitle" data-i18n="TestsHub.englishTest.subtitle">3rd Year Arts (February 2010) - Lyc√©e Mustapha Fourati</div>
                </div>
            </div>
            
            <div class="Tests-Hub-header-controls">
                <a href="index.html" class="Tests-Hub-button">
                    <span>‚Üê</span>
                    <span data-i18n="TestsHub.englishTest.back">Back to Tests</span>
                </a>
                
                <div class="Tests-Hub-language-selector">
                    <button class="Tests-Hub-button">
                        <span>üåê</span>
                        <span data-i18n="TestsHub.language.current">English</span>
                        <span>‚ñº</span>
                    </button>
                    <div class="Tests-Hub-language-dropdown">
                        <div class="Tests-Hub-language-option" data-language="en">
                            <span>üåê</span> English
                        </div>
                        <div class="Tests-Hub-language-option" data-language="fr">
                            <span>üåê</span> Fran√ßais
                        </div>
                        <div class="Tests-Hub-language-option" data-language="ar">
                            <span>üåê</span> ÿßŸÑÿπÿ±ÿ®Ÿäÿ©
                        </div>
                    </div>
                </div>
                
                <button class="Tests-Hub-button" id="themeToggle">
                    <span id="themeIcon">üåô</span>
                    <span data-i18n="TestsHub.theme.toggle">Dark Mode</span>
                </button>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="Tests-Hub-content-container">
        <!-- Test Header -->
        <div class="Tests-Hub-test-header">
            <h1 class="Tests-Hub-heading-primary">Mid Term Test in English N¬∞2</h1>
            <p>School: Lyc√©e Mustapha Fourati - Sfax</p>
            <p>Teacher: Mr. Khanfir</p>
            <p>Date: February 2010</p>
            <p>Class: 3√®me Lettres</p>
            <p>Duration: 1 hour</p>
        </div>
        
        <!-- Instructions -->
        <div class="Tests-Hub-test-section Tests-Hub-instructions-container">
            <h3 class="Tests-Hub-heading-subsection">General Instructions</h3>
            <ul>
                <li>Read all questions carefully before answering</li>
                <li>Answer the questions in the order they appear</li>
                <li>The quality of your written expression will be taken into account</li>
                <li>Write legibly and take care of presentation</li>
                <li>Manage your time effectively across all sections</li>
            </ul>
        </div>
        
        <!-- Page 1 -->
        <div class="Tests-Hub-test-section">
            <h2 class="Tests-Hub-heading-section">Page 1</h2>
            
            <!-- Listening Comprehension Section -->
            <div class="Tests-Hub-text-container">
                <h3 class="Tests-Hub-heading-subsection">Listening Comprehension (8 marks)</h3>
                
                <p class="Tests-Hub-text-note">
                    <strong>Note:</strong> You will hear a passage about Ester from the Philippines. Listen carefully and answer the following questions.
                </p>
                
                <!-- Audio Player -->
                <div class="Tests-Hub-audio-player">
                    <div class="Tests-Hub-audio-header">
                        <span class="Tests-Hub-audio-icon">üîä</span>
                        <span class="Tests-Hub-audio-title">Ester from the Philippines - Listening Passage</span>
                    </div>
                    
                    <!-- Hidden Audio Element -->
                    <audio id="philippinesAudio" preload="metadata">
                        <source src="assets/sounds/3dyear/english/philippines.mp3" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                    
                    <!-- Audio Controls -->
                    <div class="Tests-Hub-audio-controls">
                        <button class="Tests-Hub-audio-btn Tests-Hub-audio-btn-play" id="audioPlay">
                            <span>‚ñ∂Ô∏è</span> Play
                        </button>
                        <button class="Tests-Hub-audio-btn Tests-Hub-audio-btn-pause" id="audioPause">
                            <span>‚è∏Ô∏è</span> Pause
                        </button>
                        <button class="Tests-Hub-audio-btn Tests-Hub-audio-btn-stop" id="audioStop">
                            <span>‚èπÔ∏è</span> Stop
                        </button>
                        <button class="Tests-Hub-audio-btn Tests-Hub-audio-btn-restart" id="audioRestart">
                            <span>üîÅ</span> Restart
                        </button>
                        
                        <div class="Tests-Hub-audio-volume-container">
                            <span class="Tests-Hub-audio-volume-icon">üîä</span>
                            <input type="range" class="Tests-Hub-audio-volume-slider" id="audioVolume" 
                                   min="0" max="1" step="0.1" value="0.7">
                        </div>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="Tests-Hub-audio-progress-container">
                        <div class="Tests-Hub-audio-progress-bar">
                            <div class="Tests-Hub-audio-progress" id="audioProgress"></div>
                        </div>
                        <div class="Tests-Hub-audio-time">
                            <span id="currentTime">0:00</span>
                            <span id="duration">0:00</span>
                        </div>
                    </div>
                    
                    <!-- Status -->
                    <div class="Tests-Hub-audio-status" id="audioStatus">
                        Ready to play
                    </div>
                </div>
                
                <!-- Question 1 -->
                <div class="Tests-Hub-question-container">
                    <p><span class="Tests-Hub-question-number">1.</span> <strong>Listen and choose the right option: (1 mark)</strong></p>
                    <p>Ester is:</p>
                    
                    <div class="Tests-Hub-multiple-choice-container">
                        <div class="Tests-Hub-choice-option">
                            <input type="radio" id="q1a" name="q1" value="a">
                            <label for="q1a">a- Australian</label>
                        </div>
                        <div class="Tests-Hub-choice-option">
                            <input type="radio" id="q1b" name="q1" value="b">
                            <label for="q1b">b- Thailanders</label>
                        </div>
                        <div class="Tests-Hub-choice-option">
                            <input type="radio" id="q1c" name="q1" value="c">
                            <label for="q1c">c- Philippinean</label>
                        </div>
                    </div>
                </div>
                
                <!-- Question 2 -->
                <div class="Tests-Hub-question-container">
                    <p><span class="Tests-Hub-question-number">2.</span> <strong>Ester is used to bringing souvenirs, listen and fill in the chart with the right details: (2 marks)</strong></p>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>The souvenir</th>
                                <th>1- Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>For family</td>
                                <td>
                                    <textarea class="Tests-Hub-answer-textarea" placeholder="Description for family souvenirs..." style="min-height: 60px;"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td>For friends</td>
                                <td>
                                    <textarea class="Tests-Hub-answer-textarea" placeholder="Description for friends souvenirs..." style="min-height: 60px;"></textarea>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Question 3 -->
                <div class="Tests-Hub-question-container">
                    <p><span class="Tests-Hub-question-number">3.</span> <strong>Answer the following questions: (2 marks)</strong></p>
                    
                    <p>1. Are Ester's souvenirs for her family similar to those for her friends? Justify your answer.</p>
                    <textarea class="Tests-Hub-answer-textarea" placeholder="Your answer..." style="min-height: 80px; margin-bottom: 1rem;"></textarea>
                    
                    <p>2. What souvenir is the Australian familiar with?</p>
                    <textarea class="Tests-Hub-answer-textarea" placeholder="Your answer..." style="min-height: 60px;"></textarea>
                </div>
                
                <!-- Question 4 -->
                <div class="Tests-Hub-question-container">
                    <p><span class="Tests-Hub-question-number">4.</span> <strong>Listen and complete with the right words: (1 mark)</strong></p>
                    
                    <p>In many countries, it is 
                    <textarea class="Tests-Hub-answer-input" placeholder="..." style="width: 120px;"></textarea> 
                    that one goes on holiday and brings a 
                    <textarea class="Tests-Hub-answer-input" placeholder="..." style="width: 120px;"></textarea> 
                    back for loved ones.</p>
                </div>
                
                <!-- Question 5 -->
                <div class="Tests-Hub-question-container">
                    <p><span class="Tests-Hub-question-number">5.</span> <strong>Listen and circle the 2 words having the sound /s/: (1 mark)</strong></p>
                    
                    <div class="Tests-Hub-phonetic-container">
                        <div class="Tests-Hub-phonetic-item">
                            <div class="Tests-Hub-phonetic-symbols">display</div>
                            <input type="checkbox" id="word1" style="transform: scale(1.5);">
                            <label for="word1">display</label>
                        </div>
                        
                        <div class="Tests-Hub-phonetic-item">
                            <div class="Tests-Hub-phonetic-symbols">greeting</div>
                            <input type="checkbox" id="word2" style="transform: scale(1.5);">
                            <label for="word2">greeting</label>
                        </div>
                        
                        <div class="Tests-Hub-phonetic-item">
                            <div class="Tests-Hub-phonetic-symbols">place</div>
                            <input type="checkbox" id="word3" style="transform: scale(1.5);">
                            <label for="word3">place</label>
                        </div>
                        
                        <div class="Tests-Hub-phonetic-item">
                            <div class="Tests-Hub-phonetic-symbols">friends</div>
                            <input type="checkbox" id="word4" style="transform: scale(1.5);">
                            <label for="word4">friends</label>
                        </div>
                    </div>
                </div>
                
                <!-- Question 6 -->
                <div class="Tests-Hub-question-container">
                    <p><span class="Tests-Hub-question-number">6.</span> <strong>If you went on a holiday in any place, would you bring souvenirs from there? Why? Why not? (1 mark)</strong></p>
                    
                    <textarea class="Tests-Hub-answer-textarea" placeholder="Your answer..." style="min-height: 100px;"></textarea>
                </div>
            </div>
        </div>
        
        <!-- Page Divider -->
        <div class="Tests-Hub-page-divider">
            <span>Page 2</span>
        </div>
        
        <!-- Page 2 -->
        <div class="Tests-Hub-test-section">
            <h2 class="Tests-Hub-heading-section">Page 2</h2>
            
            <!-- Grammar Section -->
            <div class="Tests-Hub-text-container">
                <h3 class="Tests-Hub-heading-subsection">Grammar (12 marks)</h3>
                
                <!-- Question 1 -->
                <div class="Tests-Hub-question-container">
                    <p><span class="Tests-Hub-question-number">1.</span> <strong>Fill in the blanks with 6 words from the list: (3.5 marks)</strong></p>
                    
                    <p><em>pressure / enjoyable / anywhere / cottages / exhausting / relax / booking / virtually / opportunities</em></p>
                    
                    <div class="Tests-Hub-text-passage">
                        <p>Most people are preoccupied on how to earn more and save, without noticing they are stressed with the 
                        <textarea class="Tests-Hub-answer-input" placeholder="1" style="width: 100px;"></textarea> 
                        from work, family and others. However, it is important to 
                        <textarea class="Tests-Hub-answer-input" placeholder="2" style="width: 100px;"></textarea> 
                        and unwind because more than fun, holiday is important to the overall health. Finding for a place to stay when you arrive to your destination can be very 
                        <textarea class="Tests-Hub-answer-input" placeholder="3" style="width: 100px;"></textarea> 
                        waste of time and money. The popularity of Internet opened many 
                        <textarea class="Tests-Hub-answer-input" placeholder="4" style="width: 100px;"></textarea> 
                        for business and travellers across the globe to enjoy a worthwhile holiday. Nowadays, hotels, holiday 
                        <textarea class="Tests-Hub-answer-input" placeholder="5" style="width: 100px;"></textarea> 
                        and beach apartments have their own on-line 
                        <textarea class="Tests-Hub-answer-input" placeholder="6" style="width: 100px;"></textarea> 
                        system where travellers can directly check room availability and confirm reservations 
                        <textarea class="Tests-Hub-answer-input" placeholder="7" style="width: 100px;"></textarea> 
                        in the world at any time of the day.</p>
                    </div>
                </div>
                
                <!-- Question 2 -->
                <div class="Tests-Hub-question-container">
                    <p><span class="Tests-Hub-question-number">2.</span> <strong>Match sentences in part 1 with sentences in part 2 to get meaningful sentences: (2.5 marks)</strong></p>
                    
                    <div class="Tests-Hub-flex-row" style="align-items: flex-start; gap: 2rem; flex-wrap: wrap;">
                        <div>
                            <h4 class="Tests-Hub-heading-tertiary">Part 1</h4>
                            <p>1. We stayed at this hotel</p>
                            <p>2. Breakfast buffet</p>
                            <p>3. Even though its location was a bit far from the main place,</p>
                            <p>4. Their service in person was nice;</p>
                            <p>5. Their service on the phone, on the other hand, was sometimes very curt and dry</p>
                        </div>
                        
                        <div>
                            <h4 class="Tests-Hub-heading-tertiary">Part 2</h4>
                            <p>a. very friendly and gentle.</p>
                            <p>b. was always amazing</p>
                            <p>c. for 4 nights during Chinese New Year's week.</p>
                            <p>d. they provide a free shuttle bus near the station</p>
                            <p>e. clean room</p>
                            <p>f. that made me disappointed a little bit.</p>
                        </div>
                    </div>
                    
                    <div style="margin-top: 1.5rem;">
                        <p><strong>Answers:</strong></p>
                        <p>1/ <textarea class="Tests-Hub-answer-input" placeholder="..." style="width: 80px;"></textarea> 
                        2/ <textarea class="Tests-Hub-answer-input" placeholder="..." style="width: 80px;"></textarea> 
                        3/ <textarea class="Tests-Hub-answer-input" placeholder="..." style="width: 80px;"></textarea> 
                        4/ <textarea class="Tests-Hub-answer-input" placeholder="..." style="width: 80px;"></textarea> 
                        5/ <textarea class="Tests-Hub-answer-input" placeholder="..." style="width: 80px;"></textarea></p>
                    </div>
                </div>
                
                <!-- Question 3 -->
                <div class="Tests-Hub-question-container">
                    <p><span class="Tests-Hub-question-number">3.</span> <strong>Put the words between parenthesis in the right tense or form: (3.5 marks)</strong></p>
                    
                    <div class="Tests-Hub-text-passage">
                        <p>Genetic Engineering holds many promises for the future. It 
                        <textarea class="Tests-Hub-answer-input" placeholder="(bring)" style="width: 120px;"></textarea> 
                        with it possibilities of longer, healthier lives, and possibly near- immortality. It has the possibilities of ending world hunger by making cheaper, 
                        <textarea class="Tests-Hub-answer-input" placeholder="(nutritious)" style="width: 120px;"></textarea> 
                        and faster growing foods. It could also have the ability 
                        <textarea class="Tests-Hub-answer-input" placeholder="(bring)" style="width: 100px;"></textarea> 
                        back species from near extinction and even reintroduce 
                        <textarea class="Tests-Hub-answer-input" placeholder="(recent)" style="width: 100px;"></textarea> 
                        extinct species back to our world by 
                        <textarea class="Tests-Hub-answer-input" placeholder="(use)" style="width: 100px;"></textarea> 
                        old DNA, such as what happened in Jurassic Park. With genetic engineering, we would be able to clone a loved one or a favourite pet, ending the pain of loss that comes from 
                        <textarea class="Tests-Hub-answer-input" placeholder="(die)" style="width: 100px;"></textarea> 
                        . On a different level, GE poses a threat to the environment. Much like non- native species easily take over in new environments, GE plants and animals could destroy the environment and 
                        <textarea class="Tests-Hub-answer-input" placeholder="(disorder)" style="width: 120px;"></textarea> 
                        the food chain, causing slower- acting but still incredibly long lasting negative effects.</p>
                    </div>
                </div>
                
                <!-- Question 4 -->
                <div class="Tests-Hub-question-container">
                    <p><span class="Tests-Hub-question-number">4.</span> <strong>Choose the right option: (2.5 marks)</strong></p>
                    
                    <div class="Tests-Hub-text-passage">
                        <p>Nanotechnology, by definition, is the technology of the very small. Nanotech applies specifically 
                        <select class="Tests-Hub-answer-input" style="width: 80px;">
                            <option value="">Select</option>
                            <option value="about">about</option>
                            <option value="to">to</option>
                            <option value="up">up</option>
                        </select> 
                        GE by creating new tools to use for manipulation of DNA and gene linking. As the tech advances, things like 
                        <select class="Tests-Hub-answer-input" style="width: 100px;">
                            <option value="">Select</option>
                            <option value="biologist">biologist</option>
                            <option value="biology">biology</option>
                            <option value="biological">biological</option>
                        </select> 
                        computers and mass storage systems will be a reality, and these 
                        <select class="Tests-Hub-answer-input" style="width: 100px;">
                            <option value="">Select</option>
                            <option value="devices">devices</option>
                            <option value="devises">devises</option>
                            <option value="divisions">divisions</option>
                        </select> 
                        depend on GE for their development. Nanotech could allow cheaper production, and also the reduced size of the technology could allow it to 
                        <select class="Tests-Hub-answer-input" style="width: 120px;">
                            <option value="">Select</option>
                            <option value="be produced">be produced</option>
                            <option value="produce">produce</option>
                            <option value="have produced">have produced</option>
                        </select> 
                        almost anywhere. It holds the potential to be either the curse or the 
                        <select class="Tests-Hub-answer-input" style="width: 120px;">
                            <option value="">Select</option>
                            <option value="side-effect">side-effect</option>
                            <option value="blessing">blessing</option>
                            <option value="disadvantage">disadvantage</option>
                        </select> 
                        of our existence.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Evaluation Grid -->
        <div class="Tests-Hub-test-section">
            <h2 class="Tests-Hub-heading-section">Evaluation Grid</h2>
            
            <table>
                <thead>
                    <tr>
                        <th>Section</th>
                        <th>Question</th>
                        <th>Points</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td rowspan="6"><strong>Listening Comprehension</strong></td>
                        <td>1. Multiple Choice</td>
                        <td>/1</td>
                        <td rowspan="6"><strong>/8</strong></td>
                    </tr>
                    <tr>
                        <td>2. Fill in the Chart</td>
                        <td>/2</td>
                    </tr>
                    <tr>
                        <td>3. Answer Questions</td>
                        <td>/2</td>
                    </tr>
                    <tr>
                        <td>4. Complete with Right Words</td>
                        <td>/1</td>
                    </tr>
                    <tr>
                        <td>5. Circle Words with /s/ sound</td>
                        <td>/1</td>
                    </tr>
                    <tr>
                        <td>6. Personal Response</td>
                        <td>/1</td>
                    </tr>
                    <tr>
                        <td><strong>Grammar</strong></td>
                        <td>1. Fill in Blanks (6 words)</td>
                        <td>/3.5</td>
                        <td><strong>/12</strong></td>
                    </tr>
                    <tr>
                        <td><strong>Grammar</strong></td>
                        <td>2. Match Sentences</td>
                        <td>/2.5</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td><strong>Grammar</strong></td>
                        <td>3. Word Form</td>
                        <td>/3.5</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td><strong>Grammar</strong></td>
                        <td>4. Multiple Choice</td>
                        <td>/2.5</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td colspan="2"><strong>Total Score</strong></td>
                        <td colspan="2"><strong>/20</strong></td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Correction Toggle -->
        <div class="Tests-Hub-correction-container">
            <button class="Tests-Hub-button-primary" id="toggleCorrection">Show Correction</button>
        </div>
        
        <!-- Correction Section -->
        <div id="correction" class="Tests-Hub-correction-section Tests-Hub-hidden">
            <h2 class="Tests-Hub-heading-section">Test Correction</h2>
            
            <h3 class="Tests-Hub-heading-subsection">Listening Text</h3>
            
            <div class="Tests-Hub-correction-answer">
                <p class="Tests-Hub-text-correction">Listening Passage (Ester from the Philippines):</p>
                <div class="Tests-Hub-text-passage">
                    <p>My friend Ester, who is from the Philippines, loves to travel. Whenever she visits a new country, she makes sure to bring back souvenirs. For her, a good souvenir isn't just a random object; it should say something about the culture of the place. She often buys items like traditional crafts or postcards that show beautiful landscapes. She believes these make the best gifts.</p>
                    <p>Her souvenirs are quite specific. For her family, she usually brings special items that represent the local heritage. However, for her friends, she prefers to buy fun and casual things, like funny t-shirts or keychains. So no, the souvenirs for her family and friends are not usually similar. For example, when she visited Australia, she brought her sister a beautiful painted boomerang. Her Australian host was very familiar with it, of course, and said it was a classic gift. For her friend, she bought a t-shirt with a kangaroo on it.</p>
                    <p>In many countries, it is customary that one goes on holiday and brings a little gift back for loved ones. It's a nice gesture, a way to share your experience. When I meet her, I always enjoy seeing her display of souvenirs and hearing the stories behind them. It's like a greeting from around the world.</p>
                </div>
            </div>
            
            <h3 class="Tests-Hub-heading-subsection">Listening Comprehension - Correction</h3>
            
            <div class="Tests-Hub-correction-answer">
                <p><span class="Tests-Hub-question-number">1.</span> <strong class="Tests-Hub-text-bold">Correction:</strong></p>
                <p class="Tests-Hub-text-correction">Correct answer:</p>
                <p><strong class="Tests-Hub-text-success">c- Philippinean</strong></p>
                <p class="Tests-Hub-text-explanation">
                <strong>Explanation:</strong> The text begins with "My friend Ester, who is from the Philippines..."
                </p>
            </div>
            
            <div class="Tests-Hub-correction-answer">
                <p><span class="Tests-Hub-question-number">2.</span> <strong class="Tests-Hub-text-bold">Correction:</strong></p>
                <p class="Tests-Hub-text-correction">Correct chart completion:</p>
                <table>
                    <thead>
                        <tr>
                            <th>The souvenir</th>
                            <th>1- Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>For family</td>
                            <td><strong class="Tests-Hub-text-success">Special items that represent the local heritage</strong></td>
                        </tr>
                        <tr>
                            <td>For friends</td>
                            <td><strong class="Tests-Hub-text-success">Fun and casual things, like funny t-shirts or keychains</strong></td>
                        </tr>
                    </tbody>
                </table>
                <p class="Tests-Hub-text-explanation">
                <strong>Explanation:</strong> The text clearly distinguishes between souvenirs for family and friends.
                </p>
            </div>
            
            <div class="Tests-Hub-correction-answer">
                <p><span class="Tests-Hub-question-number">3.</span> <strong class="Tests-Hub-text-bold">Correction:</strong></p>
                <p class="Tests-Hub-text-correction">Correct answers:</p>
                <p>1. <strong class="Tests-Hub-text-success">No, they are not similar. For her family, she brings special items representing local heritage, while for her friends she buys fun and casual things like t-shirts or keychains.</strong></p>
                <p>2. <strong class="Tests-Hub-text-success">The Australian was familiar with the painted boomerang (or a boomerang).</strong></p>
                <p class="Tests-Hub-text-explanation">
                <strong>Explanation:</strong> 
                1. The text explicitly states "So no, the souvenirs for her family and friends are not usually similar."<br>
                2. When Ester visited Australia, she brought a painted boomerang for her sister, and her Australian host was familiar with it.
                </p>
            </div>
            
            <div class="Tests-Hub-correction-answer">
                <p><span class="Tests-Hub-question-number">4.</span> <strong class="Tests-Hub-text-bold">Correction:</strong></p>
                <p class="Tests-Hub-text-correction">Completed sentence:</p>
                <p>In many countries, it is <strong class="Tests-Hub-text-success">customary</strong> that one goes on holiday and brings a <strong class="Tests-Hub-text-success">little gift</strong> back for loved ones.</p>
                <p class="Tests-Hub-text-explanation">
                <strong>Explanation:</strong> These words are directly from the listening text.
                </p>
            </div>
            
            <div class="Tests-Hub-correction-answer">
                <p><span class="Tests-Hub-question-number">5.</span> <strong class="Tests-Hub-text-bold">Correction:</strong></p>
                <p class="Tests-Hub-text-correction">Words with the /s/ sound:</p>
                <p><strong class="Tests-Hub-text-success">display</strong> and <strong class="Tests-Hub-text-success">place</strong></p>
                <p class="Tests-Hub-text-explanation">
                <strong>Explanation:</strong> These words contain the /s/ sound: display (/d…™Ààsple…™/) and place (/ple…™s/).
                </p>
            </div>
            
            <div class="Tests-Hub-correction-answer">
                <p><span class="Tests-Hub-question-number">6.</span> <strong class="Tests-Hub-text-bold">Correction:</strong></p>
                <p class="Tests-Hub-text-correction">Personal response (sample answer):</p>
                <p><strong class="Tests-Hub-text-success">Yes, I would bring souvenirs from places I visit because they serve as tangible memories of my experiences. They help me remember the places and people I encountered, and they make great gifts for family and friends who appreciate learning about different cultures.</strong></p>
                <p class="Tests-Hub-text-explanation">
                <strong>Note:</strong> This is a personal opinion question, so various answers are acceptable as long as they are well-reasoned.
                </p>
            </div>
            
            <h3 class="Tests-Hub-heading-subsection">Grammar Section - Correction</h3>
            
            <div class="Tests-Hub-correction-answer">
                <p><span class="Tests-Hub-question-number">1.</span> <strong class="Tests-Hub-text-bold">Correction:</strong></p>
                <p class="Tests-Hub-text-correction">Completed text (7 words needed - note: question says 6 but text has 7 blanks):</p>
                <p>Most people are preoccupied on how to earn more and save, without noticing they are stressed with the <strong class="Tests-Hub-text-success">pressure</strong> from work, family and others. However, it is important to <strong class="Tests-Hub-text-success">relax</strong> and unwind because more than fun, holiday is important to the overall health. Finding for a place to stay when you arrive to your destination can be very <strong class="Tests-Hub-text-success">exhausting</strong> waste of time and money. The popularity of Internet opened many <strong class="Tests-Hub-text-success">opportunities</strong> for business and travellers across the globe to enjoy a worthwhile holiday. Nowadays, hotels, holiday <strong class="Tests-Hub-text-success">cottages</strong> and beach apartments have their own on-line <strong class="Tests-Hub-text-success">booking</strong> system where travellers can directly check room availability and confirm reservations <strong class="Tests-Hub-text-success">anywhere</strong> in the world at any time of the day.</p>
                <p class="Tests-Hub-text-explanation">
                <strong>Explanation:</strong> The unused words are "enjoyable" and "virtually".
                </p>
            </div>
            
            <div class="Tests-Hub-correction-answer">
                <p><span class="Tests-Hub-question-number">2.</span> <strong class="Tests-Hub-text-bold">Correction:</strong></p>
                <p class="Tests-Hub-text-correction">Correct matches:</p>
                <p>1/ <strong class="Tests-Hub-text-success">c</strong> (We stayed at this hotel for 4 nights during Chinese New Year's week.)<br>
                2/ <strong class="Tests-Hub-text-success">b</strong> (Breakfast buffet was always amazing)<br>
                3/ <strong class="Tests-Hub-text-success">d</strong> (Even though its location was a bit far from the main place, they provide a free shuttle bus near the station)<br>
                4/ <strong class="Tests-Hub-text-success">a</strong> (Their service in person was nice; very friendly and gentle.)<br>
                5/ <strong class="Tests-Hub-text-success">f</strong> (Their service on the phone, on the other hand, was sometimes very curt and dry that made me disappointed a little bit.)</p>
                <p class="Tests-Hub-text-explanation">
                <strong>Explanation:</strong> The unused option is "e. clean room".
                </p>
            </div>
            
            <div class="Tests-Hub-correction-answer">
                <p><span class="Tests-Hub-question-number">3.</span> <strong class="Tests-Hub-text-bold">Correction:</strong></p>
                <p class="Tests-Hub-text-correction">Correct word forms:</p>
                <p>Genetic Engineering holds many promises for the future. It <strong class="Tests-Hub-text-success">brings</strong> with it possibilities of longer, healthier lives, and possibly near- immortality. It has the possibilities of ending world hunger by making cheaper, <strong class="Tests-Hub-text-success">more nutritious</strong> and faster growing foods. It could also have the ability <strong class="Tests-Hub-text-success">to bring</strong> back species from near extinction and even reintroduce <strong class="Tests-Hub-text-success">recently</strong> extinct species back to our world by <strong class="Tests-Hub-text-success">using</strong> old DNA, such as what happened in Jurassic Park. With genetic engineering, we would be able to clone a loved one or a favourite pet, ending the pain of loss that comes from <strong class="Tests-Hub-text-success">death</strong>. On a different level, GE poses a threat to the environment. Much like non- native species easily take over in new environments, GE plants and animals could destroy the environment and <strong class="Tests-Hub-text-success">disorder</strong> the food chain, causing slower- acting but still incredibly long lasting negative effects.</p>
            </div>
            
            <div class="Tests-Hub-correction-answer">
                <p><span class="Tests-Hub-question-number">4.</span> <strong class="Tests-Hub-text-bold">Correction:</strong></p>
                <p class="Tests-Hub-text-correction">Correct alternatives:</p>
                <p>1. <strong class="Tests-Hub-text-success">to</strong><br>
                2. <strong class="Tests-Hub-text-success">biological</strong><br>
                3. <strong class="Tests-Hub-text-success">devices</strong><br>
                4. <strong class="Tests-Hub-text-success">be produced</strong><br>
                5. <strong class="Tests-Hub-text-success">blessing</strong></p>
                <p class="Tests-Hub-text-explanation">
                <strong>Detailed Explanation:</strong><br>
                1. "applies to" - correct preposition<br>
                2. "biological computers" - adjective needed<br>
                3. "devices" - noun meaning equipment<br>
                4. "be produced" - passive voice needed<br>
                5. "blessing" - opposite of "curse" in this context
                </p>
            </div>
        </div>
        
        <!-- Download Buttons -->
        <div class="Tests-Hub-download-section">
            <button class="Tests-Hub-button-download Tests-Hub-download-pdf" id="downloadPdf">
                <span>üìÑ</span>
                <span data-i18n="TestsHub.englishTest.download.pdf">PDF</span>
            </button>
            <button class="Tests-Hub-button-download Tests-Hub-download-odt" id="downloadOdt">
                <span>üìù</span>
                <span data-i18n="TestsHub.englishTest.download.odt">ODT</span>
            </button>
            <button class="Tests-Hub-button-download Tests-Hub-download-png" id="downloadPng">
                <span>üñºÔ∏è</span>
                <span data-i18n="TestsHub.englishTest.download.png">PNG</span>
            </button>
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="Tests-Hub-footer-container">
        <div class="Tests-Hub-footer-content Tests-Hub-container">
            <div class="Tests-Hub-grid-cols-3">
                <!-- Column 1: Developer -->
                <div class="Tests-Hub-footer-column">
                    <h3 class="Tests-Hub-footer-heading" data-i18n="TestsHub.footer.developer">Developer</h3>
                    <p class="Tests-Hub-developer-name">Ziad El Majri</p>
                </div>
                
                <!-- Column 2: Version -->
                <div class="Tests-Hub-footer-column">
                    <h3 class="Tests-Hub-footer-heading" data-i18n="TestsHub.footer.version">Version</h3>
                    <p class="Tests-Hub-version-number">v2.0.1</p>
                </div>
                
                <!-- Column 3: Links -->
                <div class="Tests-Hub-footer-column">
                    <h3 class="Tests-Hub-footer-heading" data-i18n="TestsHub.footer.links">Links</h3>
                    <ul class="Tests-Hub-footer-links-list">
                        <li>
                            <a href="#" class="Tests-Hub-footer-link" data-i18n="TestsHub.footer.terms">Terms of Use</a>
                        </li>
                        <li>
                            <a href="#" class="Tests-Hub-footer-link" data-i18n="TestsHub.footer.privacy">Privacy Policy</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    
    <script>
        // Translation object
        let currentLanguage = 'en';
        let isDarkTheme = false;
        
        const TestsHub_translations = {
            en: {
                TestsHub: {
                    englishTest: {
                        title: "English - Mid Term Test N¬∞2",
                        subtitle: "3rd Year Arts (February 2010) - Lyc√©e Mustapha Fourati",
                        back: "Back to Tests",
                        showCorrection: "Show Correction",
                        hideCorrection: "Hide Correction",
                        download: {
                            pdf: "PDF",
                            odt: "ODT",
                            png: "PNG"
                        },
                        comingSoon: "Coming soon! This feature is under development.",
                        audio: {
                            play: "Play",
                            pause: "Pause",
                            stop: "Stop",
                            restart: "Restart",
                            volume: "Volume",
                            statusReady: "Ready to play",
                            statusPlaying: "Playing...",
                            statusPaused: "Paused",
                            statusStopped: "Stopped"
                        }
                    },
                    language: {
                        current: "English"
                    },
                    theme: {
                        toggle: "Dark Mode"
                    },
                    footer: {
                        developer: "Developer",
                        version: "Version",
                        links: "Links",
                        terms: "Terms of Use",
                        privacy: "Privacy Policy"
                    }
                }
            },
            fr: {
                TestsHub: {
                    englishTest: {
                        title: "Anglais - Test de Contr√¥le N¬∞2",
                        subtitle: "3√®me Ann√©e Arts (F√©vrier 2010) - Lyc√©e Mustapha Fourati",
                        back: "Retour aux Tests",
                        showCorrection: "Afficher la Correction",
                        hideCorrection: "Masquer la Correction",
                        download: {
                            pdf: "PDF",
                            odt: "ODT",
                            png: "PNG"
                        },
                        comingSoon: "Bient√¥t disponible ! Cette fonctionnalit√© est en cours de d√©veloppement.",
                        audio: {
                            play: "Lecture",
                            pause: "Pause",
                            stop: "Arr√™t",
                            restart: "Red√©marrer",
                            volume: "Volume",
                            statusReady: "Pr√™t √† lire",
                            statusPlaying: "En cours de lecture...",
                            statusPaused: "En pause",
                            statusStopped: "Arr√™t√©"
                        }
                    },
                    language: {
                        current: "Fran√ßais"
                    },
                    theme: {
                        toggle: "Mode Sombre"
                    },
                    footer: {
                        developer: "D√©veloppeur",
                        version: "Version",
                        links: "Liens",
                        terms: "Conditions d'utilisation",
                        privacy: "Politique de confidentialit√©"
                    }
                }
            },
            ar: {
                TestsHub: {
                    englishTest: {
                        title: "ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ© - ÿßÿÆÿ™ÿ®ÿßÿ± ŸÖÿ±ÿßŸÇÿ®ÿ© ÿ±ŸÇŸÖ 2",
                        subtitle: "ÿßŸÑÿ´ÿßŸÑÿ´ÿ© ÿ¢ÿØÿßÿ® (ŸÅÿ®ÿ±ÿßŸäÿ± 2010) - ŸÖÿπŸáÿØ ŸÖÿµÿ∑ŸÅŸâ ŸÅÿ±Ÿàÿßÿ™Ÿä",
                        back: "ÿßŸÑÿπŸàÿØÿ© ŸÑŸÑÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™",
                        showCorrection: "ÿπÿ±ÿ∂ ÿßŸÑÿ™ÿµÿ≠Ÿäÿ≠",
                        hideCorrection: "ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ™ÿµÿ≠Ÿäÿ≠",
                        download: {
                            pdf: "PDF",
                            odt: "ODT",
                            png: "PNG"
                        },
                        comingSoon: "ŸÇÿ±Ÿäÿ®Ÿãÿß! Ÿáÿ∞Ÿá ÿßŸÑŸÖŸäÿ≤ÿ© ŸÇŸäÿØ ÿßŸÑÿ™ÿ∑ŸàŸäÿ±.",
                        audio: {
                            play: "ÿ™ÿ¥ÿ∫ŸäŸÑ",
                            pause: "ÿ•ŸäŸÇÿßŸÅ ŸÖÿ§ŸÇÿ™",
                            stop: "ÿ•ŸäŸÇÿßŸÅ",
                            restart: "ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ",
                            volume: "ÿßŸÑÿµŸàÿ™",
                            statusReady: "ÿ¨ÿßŸáÿ≤ ŸÑŸÑÿ™ÿ¥ÿ∫ŸäŸÑ",
                            statusPlaying: "ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ...",
                            statusPaused: "ŸÖÿ™ŸàŸÇŸÅ ŸÖÿ§ŸÇÿ™Ÿãÿß",
                            statusStopped: "ŸÖÿ™ŸàŸÇŸÅ"
                        }
                    },
                    language: {
                        current: "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©"
                    },
                    theme: {
                        toggle: "ÿßŸÑŸàÿ∂ÿπ ÿßŸÑŸÖÿ∏ŸÑŸÖ"
                    },
                    footer: {
                        developer: "ÿßŸÑŸÖÿ∑Ÿàÿ±",
                        version: "ÿßŸÑÿ•ÿµÿØÿßÿ±",
                        links: "ÿßŸÑÿ±Ÿàÿßÿ®ÿ∑",
                        terms: "ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ",
                        privacy: "ÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©"
                    }
                }
            }
        };
        
        // Audio Player Variables
        let audioPlayer = null;
        let isAudioPlaying = false;
        let audioUpdateInterval = null;
        
        // Function to initialize audio player
        function initializeAudioPlayer() {
            audioPlayer = document.getElementById('philippinesAudio');
            
            if (!audioPlayer) {
                console.error("Audio element not found!");
                return;
            }
            
            // Set initial volume
            audioPlayer.volume = 0.7;
            
            // Update audio status
            updateAudioStatus('ready');
            
            // Setup event listeners for audio player
            setupAudioEventListeners();
        }
        
        // Function to setup audio event listeners
        function setupAudioEventListeners() {
            // Audio play button
            const playBtn = document.getElementById('audioPlay');
            if (playBtn) {
                playBtn.addEventListener('click', playAudio);
            }
            
            // Audio pause button
            const pauseBtn = document.getElementById('audioPause');
            if (pauseBtn) {
                pauseBtn.addEventListener('click', pauseAudio);
            }
            
            // Audio stop button
            const stopBtn = document.getElementById('audioStop');
            if (stopBtn) {
                stopBtn.addEventListener('click', stopAudio);
            }
            
            // Audio restart button
            const restartBtn = document.getElementById('audioRestart');
            if (restartBtn) {
                restartBtn.addEventListener('click', restartAudio);
            }
            
            // Volume slider
            const volumeSlider = document.getElementById('audioVolume');
            if (volumeSlider) {
                volumeSlider.addEventListener('input', changeVolume);
                // Set initial value from audio element
                volumeSlider.value = audioPlayer.volume;
            }
            
            // Audio element events
            audioPlayer.addEventListener('loadedmetadata', updateAudioDuration);
            audioPlayer.addEventListener('timeupdate', updateAudioProgress);
            audioPlayer.addEventListener('ended', audioEnded);
            audioPlayer.addEventListener('error', audioError);
            
            // Update duration when metadata is loaded
            if (audioPlayer.readyState > 0) {
                updateAudioDuration();
            }
        }
        
        // Function to play audio
        function playAudio() {
            if (audioPlayer) {
                audioPlayer.play().then(() => {
                    isAudioPlaying = true;
                    updateAudioStatus('playing');
                    startProgressUpdate();
                }).catch(error => {
                    console.error("Error playing audio:", error);
                    updateAudioStatus('error');
                });
            }
        }
        
        // Function to pause audio
        function pauseAudio() {
            if (audioPlayer && isAudioPlaying) {
                audioPlayer.pause();
                isAudioPlaying = false;
                updateAudioStatus('paused');
                stopProgressUpdate();
            }
        }
        
        // Function to stop audio
        function stopAudio() {
            if (audioPlayer) {
                audioPlayer.pause();
                audioPlayer.currentTime = 0;
                isAudioPlaying = false;
                updateAudioStatus('stopped');
                updateAudioProgress();
                stopProgressUpdate();
            }
        }
        
        // Function to restart audio
        function restartAudio() {
            if (audioPlayer) {
                audioPlayer.currentTime = 0;
                if (!isAudioPlaying) {
                    playAudio();
                }
            }
        }
        
        // Function to change volume
        function changeVolume() {
            const volumeSlider = document.getElementById('audioVolume');
            if (audioPlayer && volumeSlider) {
                audioPlayer.volume = parseFloat(volumeSlider.value);
            }
        }
        
        // Function to update audio duration display
        function updateAudioDuration() {
            const durationElement = document.getElementById('duration');
            if (durationElement && audioPlayer) {
                const duration = audioPlayer.duration;
                if (isNaN(duration)) {
                    durationElement.textContent = '0:00';
                } else {
                    durationElement.textContent = formatTime(duration);
                }
            }
        }
        
        // Function to update audio progress
        function updateAudioProgress() {
            const progressBar = document.getElementById('audioProgress');
            const currentTimeElement = document.getElementById('currentTime');
            
            if (progressBar && currentTimeElement && audioPlayer) {
                const currentTime = audioPlayer.currentTime;
                const duration = audioPlayer.duration || 1; // Avoid division by zero
                const progressPercent = (currentTime / duration) * 100;
                
                progressBar.style.width = `${progressPercent}%`;
                currentTimeElement.textContent = formatTime(currentTime);
            }
        }
        
        // Function to start progress update interval
        function startProgressUpdate() {
            if (audioUpdateInterval) {
                clearInterval(audioUpdateInterval);
            }
            audioUpdateInterval = setInterval(updateAudioProgress, 100);
        }
        
        // Function to stop progress update interval
        function stopProgressUpdate() {
            if (audioUpdateInterval) {
                clearInterval(audioUpdateInterval);
                audioUpdateInterval = null;
            }
        }
        
        // Function to handle audio ended
        function audioEnded() {
            isAudioPlaying = false;
            updateAudioStatus('stopped');
            stopProgressUpdate();
            updateAudioProgress();
        }
        
        // Function to handle audio error
        function audioError() {
            console.error("Audio error:", audioPlayer.error);
            updateAudioStatus('error');
            isAudioPlaying = false;
            stopProgressUpdate();
            
            // Show error message
            const statusElement = document.getElementById('audioStatus');
            if (statusElement) {
                statusElement.textContent = 'Error loading audio file';
                statusElement.style.color = '#DC2626';
            }
        }
        
        // Function to update audio status
        function updateAudioStatus(status) {
            const statusElement = document.getElementById('audioStatus');
            if (!statusElement) return;
            
            let statusText = '';
            let statusColor = '#2563EB';
            
            switch(status) {
                case 'ready':
                    statusText = TestsHub_translations[currentLanguage]?.TestsHub?.englishTest?.audio?.statusReady || 'Ready to play';
                    statusColor = '#2563EB';
                    break;
                case 'playing':
                    statusText = TestsHub_translations[currentLanguage]?.TestsHub?.englishTest?.audio?.statusPlaying || 'Playing...';
                    statusColor = '#059669';
                    break;
                case 'paused':
                    statusText = TestsHub_translations[currentLanguage]?.TestsHub?.englishTest?.audio?.statusPaused || 'Paused';
                    statusColor = '#D97706';
                    break;
                case 'stopped':
                    statusText = TestsHub_translations[currentLanguage]?.TestsHub?.englishTest?.audio?.statusStopped || 'Stopped';
                    statusColor = '#DC2626';
                    break;
                case 'error':
                    statusText = 'Error loading audio';
                    statusColor = '#DC2626';
                    break;
            }
            
            statusElement.textContent = statusText;
            statusElement.style.color = statusColor;
        }
        
        // Function to format time (seconds to MM:SS)
        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
        }
        
        // Function to update text content
        function updateTextContent() {
            const elements = document.querySelectorAll('[data-i18n]');
            
            elements.forEach(element => {
                const key = element.getAttribute('data-i18n');
                let translation = null;
                
                const keys = key.split('.');
                let current = TestsHub_translations[currentLanguage];
                
                for (const k of keys) {
                    if (current && current[k] !== undefined) {
                        current = current[k];
                    } else {
                        current = null;
                        break;
                    }
                }
                
                translation = current;
                
                if (translation && typeof translation === 'string') {
                    element.textContent = translation;
                }
            });
            
            updateThemeToggleText();
            updateCorrectionButtonText();
            updateAudioButtonTexts();
        }
        
        // Function to update audio button texts
        function updateAudioButtonTexts() {
            // Update play button
            const playBtn = document.getElementById('audioPlay');
            if (playBtn && playBtn.querySelector('span:nth-child(2)')) {
                playBtn.querySelector('span:nth-child(2)').textContent = 
                    TestsHub_translations[currentLanguage]?.TestsHub?.englishTest?.audio?.play || 'Play';
            }
            
            // Update pause button
            const pauseBtn = document.getElementById('audioPause');
            if (pauseBtn && pauseBtn.querySelector('span:nth-child(2)')) {
                pauseBtn.querySelector('span:nth-child(2)').textContent = 
                    TestsHub_translations[currentLanguage]?.TestsHub?.englishTest?.audio?.pause || 'Pause';
            }
            
            // Update stop button
            const stopBtn = document.getElementById('audioStop');
            if (stopBtn && stopBtn.querySelector('span:nth-child(2)')) {
                stopBtn.querySelector('span:nth-child(2)').textContent = 
                    TestsHub_translations[currentLanguage]?.TestsHub?.englishTest?.audio?.stop || 'Stop';
            }
            
            // Update restart button
            const restartBtn = document.getElementById('audioRestart');
            if (restartBtn && restartBtn.querySelector('span:nth-child(2)')) {
                restartBtn.querySelector('span:nth-child(2)').textContent = 
                    TestsHub_translations[currentLanguage]?.TestsHub?.englishTest?.audio?.restart || 'Restart';
            }
            
            // Update volume label
            const volumeLabel = document.querySelector('.Tests-Hub-audio-volume-container label');
            if (volumeLabel) {
                volumeLabel.textContent = 
                    (TestsHub_translations[currentLanguage]?.TestsHub?.englishTest?.audio?.volume || 'Volume') + ':';
            }
            
            // Update current audio status
            if (audioPlayer) {
                let currentStatus = 'ready';
                if (isAudioPlaying) currentStatus = 'playing';
                else if (audioPlayer.paused && audioPlayer.currentTime > 0) currentStatus = 'paused';
                else if (audioPlayer.currentTime === 0) currentStatus = 'ready';
                
                updateAudioStatus(currentStatus);
            }
        }
        
        // Function to update theme toggle text
        function updateThemeToggleText() {
            const themeToggle = document.querySelector('#themeToggle span:nth-child(2)');
            const themeIcon = document.getElementById('themeIcon');
            
            if (themeToggle) {
                if (isDarkTheme) {
                    if (currentLanguage === 'fr') {
                        themeToggle.textContent = "Mode Clair";
                    } else if (currentLanguage === 'ar') {
                        themeToggle.textContent = "ÿßŸÑŸàÿ∂ÿπ ÿßŸÑŸÅÿßÿ™ÿ≠";
                    } else {
                        themeToggle.textContent = "Light Mode";
                    }
                } else {
                    themeToggle.textContent = TestsHub_translations[currentLanguage].TestsHub.theme.toggle;
                }
            }
            
            if (themeIcon) {
                themeIcon.textContent = isDarkTheme ? '‚òÄÔ∏è' : 'üåô';
            }
        }
        
        // Function to update correction button text
        function updateCorrectionButtonText() {
            const correctionButton = document.getElementById('toggleCorrection');
            const correctionSection = document.getElementById('correction');
            
            if (correctionButton) {
                if (correctionSection.classList.contains('Tests-Hub-hidden')) {
                    correctionButton.textContent = TestsHub_translations[currentLanguage].TestsHub.englishTest.showCorrection;
                } else {
                    correctionButton.textContent = TestsHub_translations[currentLanguage].TestsHub.englishTest.hideCorrection;
                }
            }
        }
        
        // Function to toggle theme
        function toggleTheme() {
            isDarkTheme = !isDarkTheme;
            const body = document.body;
            
            if (isDarkTheme) {
                body.classList.add('Tests-Hub-dark-theme');
            } else {
                body.classList.remove('Tests-Hub-dark-theme');
            }
            
            updateThemeToggleText();
            localStorage.setItem('testsHubTheme', isDarkTheme ? 'dark' : 'light');
        }
        
        // Function to change language
        function changeLanguage(lang) {
            if (!TestsHub_translations[lang]) return;
            
            currentLanguage = lang;
            updateTextContent();
            
            const languageButton = document.querySelector('.Tests-Hub-language-selector .Tests-Hub-button span:nth-child(2)');
            if (languageButton) {
                languageButton.textContent = TestsHub_translations[lang].TestsHub.language.current;
            }
            
            // Set RTL for Arabic, LTR for other languages
            if (lang === 'ar') {
                document.documentElement.dir = 'rtl';
                document.documentElement.lang = 'ar';
                document.body.classList.add('rtl-text');
            } else {
                document.documentElement.dir = 'ltr';
                document.documentElement.lang = lang;
                document.body.classList.remove('rtl-text');
            }
            
            localStorage.setItem('testsHubLanguage', lang);
        }
        
        // Download functions
        function downloadAsPDF() {
            const comingSoonMsg = TestsHub_translations[currentLanguage]?.TestsHub?.englishTest?.comingSoon || "Coming soon";
            alert(comingSoonMsg);
        }
        
        function downloadAsODT() {
            const comingSoonMsg = TestsHub_translations[currentLanguage]?.TestsHub?.englishTest?.comingSoon || "Coming soon";
            alert(comingSoonMsg);
        }
        
        function downloadAsPNG() {
            const comingSoonMsg = TestsHub_translations[currentLanguage]?.TestsHub?.englishTest?.comingSoon || "Coming soon";
            alert(comingSoonMsg);
        }
        
        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved preferences
            const savedTheme = localStorage.getItem('testsHubTheme');
            if (savedTheme === 'dark') {
                isDarkTheme = true;
                document.body.classList.add('Tests-Hub-dark-theme');
            }
            
            const savedLanguage = localStorage.getItem('testsHubLanguage');
            if (savedLanguage && TestsHub_translations[savedLanguage]) {
                currentLanguage = savedLanguage;
            }
            
            // Set RTL for Arabic, LTR for other languages
            if (currentLanguage === 'ar') {
                document.documentElement.dir = 'rtl';
                document.documentElement.lang = 'ar';
                document.body.classList.add('rtl-text');
            } else {
                document.documentElement.dir = 'ltr';
                document.documentElement.lang = currentLanguage;
                document.body.classList.remove('rtl-text');
            }
            
            updateTextContent();
            
            // Initialize audio player
            initializeAudioPlayer();
            
            // Attach event listeners
            const themeButton = document.getElementById('themeToggle');
            if (themeButton) {
                themeButton.addEventListener('click', toggleTheme);
            }
            
            const languageOptions = document.querySelectorAll('.Tests-Hub-language-option');
            languageOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const lang = this.getAttribute('data-language');
                    changeLanguage(lang);
                });
            });
            
            // Download buttons event listeners
            const pdfButton = document.getElementById('downloadPdf');
            if (pdfButton) {
                pdfButton.addEventListener('click', downloadAsPDF);
            }
            
            const odtButton = document.getElementById('downloadOdt');
            if (odtButton) {
                odtButton.addEventListener('click', downloadAsODT);
            }
            
            const pngButton = document.getElementById('downloadPng');
            if (pngButton) {
                pngButton.addEventListener('click', downloadAsPNG);
            }
            
            // Correction toggle functionality
            const correctionButton = document.getElementById('toggleCorrection');
            if (correctionButton) {
                correctionButton.addEventListener('click', function() {
                    const correctionSection = document.getElementById('correction');
                    if (correctionSection.classList.contains('Tests-Hub-hidden')) {
                        correctionSection.classList.remove('Tests-Hub-hidden');
                        correctionButton.textContent = TestsHub_translations[currentLanguage].TestsHub.englishTest.hideCorrection;
                    } else {
                        correctionSection.classList.add('Tests-Hub-hidden');
                        correctionButton.textContent = TestsHub_translations[currentLanguage].TestsHub.englishTest.showCorrection;
                    }
                });
            }
            
            // Register service worker for PWA
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('Service Worker registered:', registration);
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });
            }
        });
    </script>
</body>
</html>