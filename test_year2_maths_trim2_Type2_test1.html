<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tests Hub - Devoir Synth√®se N¬∞2 (2√®me Maths) - Zitouni</title>
    
    <!-- PWA Meta Tags (bleus) -->
    <meta name="theme-color" content="#3b82f6">
    <meta name="description" content="Devoir de Synth√®se N¬∞2 - 2√®me ann√©e secondaire - Math√©matiques - Lyc√©e EL-GANTRA">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Tests Hub - Devoir 2√®me">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="assets/icons/icon-152x152.png">
    <link rel="apple-touch-icon" sizes="152x152" href="assets/icons/icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/icon-192x192.png">
    
    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- KaTeX -->
    <link rel="stylesheet" href="katex/katex.min.css">
    <script defer src="katex/katex.min.js"></script>
    <script defer src="katex/contrib/auto-render.min.js"></script>
    
    <style>
        /* Palette bleue - identique au mod√®le */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: background 0.3s ease;
            color: #1e3a8a;
        }
        
        body.Tests-Hub-dark-theme {
            background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
            color: #eff6ff;
        }
        
        /* Header */
        .Tests-Hub-header-container {
            background: linear-gradient(to left, #3b82f6, #60a5fa);
            color: white;
            padding: 1.5rem 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: background 0.3s ease;
            position: relative;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-header-container {
            background: linear-gradient(to left, #1e3a8a, #3b82f6, #60a5fa);
        }
        
        .Tests-Hub-header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 15px;
        }
        
        .Tests-Hub-header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .Tests-Hub-header-icon {
            width: 48px;
            height: 48px;
            object-fit: contain;
        }
        
        .Tests-Hub-header-title {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
        }
        
        .Tests-Hub-header-subtitle {
            font-size: 1rem;
            opacity: 0.9;
            margin-top: 3px;
        }
        
        .Tests-Hub-header-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .Tests-Hub-language-selector {
            position: relative;
        }
        
        .Tests-Hub-language-button {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-language-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .Tests-Hub-language-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            min-width: 120px;
            display: none;
            z-index: 100;
        }
        
        .Tests-Hub-language-selector:hover .Tests-Hub-language-dropdown {
            display: block;
        }
        
        .Tests-Hub-language-option {
            padding: 0.8rem 1rem;
            color: #1e3a8a;
            cursor: pointer;
            transition: background 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .Tests-Hub-language-option:hover {
            background: #bfdbfe;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-language-dropdown {
            background: #1e3a8a;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-language-option {
            color: #eff6ff;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-language-option:hover {
            background: #3b82f6;
        }
        
        .Tests-Hub-theme-toggle {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-theme-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Back Button */
        .Tests-Hub-back-button {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.3s ease;
            text-decoration: none;
            font-size: 0.95rem;
        }
        
        .Tests-Hub-back-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Main Content */
        .Tests-Hub-main-container {
            flex: 1;
            max-width: 1000px;
            margin: 2rem auto;
            padding: 0 2rem;
            width: 100%;
        }
        
        .Tests-Hub-test-header {
            text-align: center;
            background: linear-gradient(to left, #3b82f6, #60a5fa);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-test-header {
            background: linear-gradient(to left, #1e3a8a, #3b82f6);
        }
        
        .Tests-Hub-test-section {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: background 0.3s ease, color 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-test-section {
            background: #1e40af;
            color: #eff6ff;
        }
        
        .Tests-Hub-test-section h2 {
            color: #3b82f6;
            border-bottom: 2px solid #60a5fa;
            padding-bottom: 8px;
            margin-bottom: 1.5rem;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-test-section h2 {
            color: #bfdbfe;
        }
        
        .Tests-Hub-instructions {
            background: #dbeafe;
            padding: 1rem;
            border-right: 4px solid #3b82f6;
            margin-bottom: 1.5rem;
            border-radius: 5px;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-instructions {
            background: #1e3a8a;
            border-right-color: #60a5fa;
        }
        
        .Tests-Hub-question {
            margin: 1.5rem 0;
            padding-right: 10px;
        }
        
        .Tests-Hub-question-number {
            font-weight: bold;
            color: #3b82f6;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-question-number {
            color: #bfdbfe;
        }
        
        /* KaTeX LTR */
        .katex {
            direction: ltr !important;
            unicode-bidi: isolate !important;
            display: inline-block;
        }
        .katex * {
            direction: ltr !important;
        }

        /* Am√©lioration des √©quations */
        .Tests-Hub-question p {
            font-size: 1.2em;
            overflow-x: auto;
            overflow-y: hidden;
            white-space: nowrap;
            padding-bottom: 5px;
            margin: 10px 0;
        }
        .Tests-Hub-question p::-webkit-scrollbar {
            height: 6px;
        }
        .Tests-Hub-question p::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 10px;
        }
        @media (max-width: 600px) {
            .Tests-Hub-question p {
                font-size: 1.1em;
            }
        }
        .Tests-Hub-question p:not(:has(.katex)) {
            white-space: normal;
        }
        
        /* Bouton correction */
        .Tests-Hub-correction-toggle-container {
            text-align: center;
            margin: 2rem 0;
        }
        
        .Tests-Hub-toggle-button {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background: linear-gradient(to left, #3b82f6, #60a5fa);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .Tests-Hub-toggle-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .Tests-Hub-correction-section {
            background: #dbeafe;
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            border-right: 4px solid #3b82f6;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-correction-section {
            background: #1e3a8a;
            border-right-color: #60a5fa;
        }
        
        .Tests-Hub-correction-section h3 {
            color: #3b82f6;
            margin-top: 0;
            margin-bottom: 1rem;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-correction-section h3 {
            color: #bfdbfe;
        }
        
        .Tests-Hub-correction-answer {
            background: rgba(59, 130, 246, 0.05);
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
            border-right: 3px solid #3b82f6;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-correction-answer {
            background: rgba(191, 219, 254, 0.1);
            border-right-color: #60a5fa;
        }
        
        .Tests-Hub-hidden {
            display: none;
        }
        
        /* Footer */
        .Tests-Hub-footer-container {
            background: linear-gradient(to left, #3b82f6, #60a5fa);
            color: white;
            padding: 2rem;
            margin-top: auto;
            transition: background 0.3s ease;
        }
        
        .Tests-Hub-dark-theme .Tests-Hub-footer-container {
            background: linear-gradient(to left, #1e3a8a, #3b82f6, #60a5fa);
        }
        
        .Tests-Hub-footer-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        
        .Tests-Hub-footer-columns {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }
        
        .Tests-Hub-footer-column h3 {
            color: #bfdbfe;
            margin-bottom: 1rem;
        }
        
        .Tests-Hub-developer-name, .Tests-Hub-version-number {
            font-weight: 600;
            color: #bfdbfe;
        }
        
        /* Boutons t√©l√©chargement */
        .Tests-Hub-download-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 2.5rem 0;
            padding: 1.5rem;
            background: linear-gradient(to left, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.1));
            border-radius: 12px;
        }
        
        .Tests-Hub-download-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-width: 100px;
            height: 100px;
            padding: 1rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .Tests-Hub-download-button span:first-child {
            font-size: 2rem;
            margin-bottom: 8px;
        }
        
        .Tests-Hub-download-button.pdf {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            color: white;
        }
        
        .Tests-Hub-download-button.odt {
            background: linear-gradient(135deg, #2563eb, #3b82f6);
            color: white;
        }
        
        .Tests-Hub-download-button.png {
            background: linear-gradient(135deg, #1e3a8a, #2563eb);
            color: white;
        }
        
        .Tests-Hub-download-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }
        
        @media (max-width: 768px) {
            .Tests-Hub-header-content {
                flex-direction: column;
            }
            .Tests-Hub-footer-columns {
                grid-template-columns: 1fr;
            }
        }

        /* Styles pour les graphiques */
        .Tests-Hub-diagram-container {
            margin: 20px 0;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            text-align: center;
        }
        .Tests-Hub-diagram-canvas {
            width: 100%;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 4px;
            background: white;
        }
        .Tests-Hub-dark-theme .Tests-Hub-diagram-canvas {
            border-color: #60a5fa;
            background: #1e3a8a;
        }
    </style>
</head>
<body>
    <header class="Tests-Hub-header-container">
        <div class="Tests-Hub-header-content">
            <div class="Tests-Hub-header-left">
                <img src="assets/icons/icon-96x96.png" alt="Tests Hub Logo" class="Tests-Hub-header-icon">
                <div>
                    <h1 class="Tests-Hub-header-title">Math√©matiques - Devoir de Synth√®se N¬∞2 (2√®me Maths)</h1>
                    <div class="Tests-Hub-header-subtitle">2√®me Sciences - Lyc√©e EL-GANTRA</div>
                </div>
            </div>
            
            <div class="Tests-Hub-header-controls">
               <a href="index.html" class="Tests-Hub-back-button">
                    <span>‚Üê</span>
                    <span>Retour aux tests</span>
                </a>
                
                <div class="Tests-Hub-language-selector">
                    <button class="Tests-Hub-language-button">
                        <span>üåê</span>
                        <span>Fran√ßais</span>
                        <span>‚ñº</span>
                    </button>
                    <div class="Tests-Hub-language-dropdown">
                        <div class="Tests-Hub-language-option" data-language="ar">üåê ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</div>
                        <div class="Tests-Hub-language-option" data-language="fr">üåê Fran√ßais</div>
                        <div class="Tests-Hub-language-option" data-language="en">üåê English</div>
                    </div>
                </div>
                
                <button class="Tests-Hub-theme-toggle" id="themeToggle">
                    <span id="themeIcon">üåô</span>
                    <span>Mode sombre</span>
                </button>
            </div>
        </div>
    </header>
    
    <main class="Tests-Hub-main-container">
        <!-- En-t√™te sp√©cifique au devoir -->
        <div class="Tests-Hub-test-header">
            <h1>Devoir de Synth√®se N¬∞2 en Math√©matiques</h1>
            <p>Ann√©e scolaire : 2022-2023</p>
            <p>Classe : 2√®me Sciences</p>
            <p>Professeur : M. Zitouni Mohamed</p>
            <p>√âtablissement : Lyc√©e EL-GANTRA</p>
            <p>Dur√©e : 1 h 30 min</p>
        </div>
        
        <div class="Tests-Hub-test-section Tests-Hub-instructions">
            <h3>Instructions</h3>
            <ul>
                <li>La calculatrice non programmable est autoris√©e.</li>
                <li>Le soin et la r√©daction seront pris en compte.</li>
                <li>Les exercices sont ind√©pendants. (Trois exercices propos√©s ici)</li>
            </ul>
        </div>
        
        <!-- ==================== EXERCICE N¬∫1 (3 points) ==================== -->
        <div class="Tests-Hub-test-section">
            <h2>EXERCICE N¬∫1 (3 points)</h2>
            <p><strong>Choisir la bonne r√©ponse</strong></p>
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">1)</span> L'ensemble de d√©finition de la fonction \( f(x) = \sqrt{-2x^2 + 3x -1} \) est :</p>
                <ul style="list-style-type: none; margin-left: 20px;">
                    <li>a) \(\mathbb{R}\)</li>
                    <li>b) \([0; +\infty[\)</li>
                    <li>c) \(\left[\frac{1}{2}; 1\right]\)</li>
                </ul>
            </div>
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">2)</span> Soit la fonction \( h \) d√©finie sur \([-1;1]\) par : \( h(x) = \sqrt{1-x^2} \). Alors :</p>
                <ul style="list-style-type: none; margin-left: 20px;">
                    <li>a) \(h\) est paire</li>
                    <li>b) \(h\) est impaire</li>
                    <li>c) \(h\) est ni paire ni impaire</li>
                </ul>
            </div>
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">3)</span> Soit \( x \in ]0;\pi[ \) ; \((\cot x + \frac{1}{\sin x})(\cot x - \frac{1}{\sin x})\) est √©gale √† :</p>
                <ul style="list-style-type: none; margin-left: 20px;">
                    <li>a) \(-1\)</li>
                    <li>b) \(1\)</li>
                    <li>c) \(\cos x\)</li>
                </ul>
            </div>
        </div>
        
        <!-- ==================== EXERCICE N¬∫2 (6 points) ==================== -->
        <div class="Tests-Hub-test-section">
            <h2>EXERCICE N¬∫2 (6 points)</h2>
            <p>On consid√®re la suite \((U_n)\) d√©finie par :</p>
            <p>\[ U_{n+1} = \frac{1+2U_n}{2+U_n}, \quad U_0 = \frac{1}{2}, \quad n \in \mathbb{N} \]</p>
            
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">1)</span> 
                    a) Calculer \( U_0 \) et \( U_2 \).<br>
                    b) La suite \( (U_n) \) est-elle arithm√©tique ? g√©om√©trique ?
                </p>
            </div>
            
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">2)</span> On consid√®re la suite \((V_n)\) d√©finie par :</p>
                <p>\[ V_n = \frac{U_n -1}{U_n +1}, \quad \forall n \in \mathbb{N} \]</p>
                <p>
                    a) Calculer \( V_0 \).<br>
                    b) Montrer que \( (V_n) \) est une suite g√©om√©trique de raison \(\frac{1}{3}\).<br>
                    c) Exprimer \( V_n \) puis \( U_n \) en fonction de \( n \).
                </p>
            </div>
            
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">3)</span> On pose \( S_n = V_0 + V_1 + \dots + V_n \). Montrer que</p>
                <p>\[ S_n = -\frac{1}{2}\left(1 - \frac{1}{3^{n+1}}\right). \]</p>
            </div>
        </div>
        
        <!-- ==================== EXERCICE N¬∫3 (5 points) ==================== -->
        <div class="Tests-Hub-test-section">
            <h2>EXERCICE N¬∫3 (5 points)</h2>
            
            <p><strong>I) Soit la fonction \( f(x) = x^2 + 6x +4 \).</strong></p>
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">1)</span> 
                    a) V√©rifier que \( f(x) = (x+3)^2 -5 \).<br>
                    b) En d√©duire les variations de \( f \) sur \( ]-\infty ; -3] \) et sur \( [-3 ; +\infty[ \).
                </p>
            </div>
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">2)</span> Montrer que \( f \) admet un minimum que l'on pr√©cisera.</p>
            </div>
            
            <p><strong>II) Soit la fonction \( g(x) = \frac{-2x^2+1}{x^2+1} \).</strong></p>
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">1)</span> √âtudier la parit√© de \( g \) et interpr√©ter graphiquement le r√©sultat obtenu.</p>
            </div>
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">2)</span> V√©rifier que pour tout r√©el \( x \), \( g(x) = -2 + \frac{3}{x^2+1} \).</p>
            </div>
            <div class="Tests-Hub-question">
                <p><span class="Tests-Hub-question-number">3)</span>
                    a) √âtudier les variations de \( g \) sur \( [0, +\infty[ \).<br>
                    b) En d√©duire les variations de \( g \) sur \( ]-\infty, 0] \).
                </p>
            </div>
        </div>
        
        <!-- ==================== EXERCICE N¬∫4 (6 points) ==================== -->
        <div class="Tests-Hub-test-section">
            <h2>EXERCICE N¬∫4 (6 points)</h2>
            
            <div class="Tests-Hub-question">
                <p><strong>I) Soit \( x \in [0;\pi] \). On pose \( f(x) = -2\cos^2x -3\sin x +3 \).</strong></p>
                <p><span class="Tests-Hub-question-number">1)</span> Calculer \( f(0), f(\pi/2), f(\pi) \).</p>
                <p><span class="Tests-Hub-question-number">2)</span> 
                    a) Montrer que \( f(x) = 2\sin^2x -3\sin x +1 \).<br>
                    b) R√©soudre dans \([0;\pi]\) l'√©quation \( f(x)=0 \).
                </p>
            </div>
            
            <div class="Tests-Hub-question">
                <p><strong>II) On consid√®re les points \( A(3,3) \), \( B(-2,5) \) et \( C(2,0) \).</strong></p>
                <p><span class="Tests-Hub-question-number">1)</span> Montrer que \( ABC \) est un triangle.</p>
                <p><span class="Tests-Hub-question-number">2)</span> D√©terminer une √©quation cart√©sienne de la droite \( (AB) \).</p>
                <p><span class="Tests-Hub-question-number">3)</span> D√©terminer les coordonn√©es du point \( G \) centre de gravit√© du triangle \( ABC \).</p>
                <p><span class="Tests-Hub-question-number">4)</span> Soit \( I \) le milieu du segment \( [BC] \), montrer que les points \( A, G \) et \( I \) sont align√©s.</p>
            </div>
            
            <!-- Figure pour l'√©nonc√© (seulement le triangle ABC) -->
            <div class="Tests-Hub-diagram-container">
                <canvas id="exercise4Canvas" class="Tests-Hub-diagram-canvas" width="400" height="300" style="width:100%; height:auto;"></canvas>
            </div>
        </div>

        <!-- Bouton afficher/cacher correction -->
        <div class="Tests-Hub-correction-toggle-container">
            <button class="Tests-Hub-toggle-button" id="toggleCorrection">Afficher la correction</button>
        </div>
        
        <!-- ==================== SECTION CORRECTION ==================== -->
        <div id="correction" class="Tests-Hub-correction-section Tests-Hub-hidden">
            <h2>Correction d√©taill√©e</h2>
            
            <!-- Correction de l'exercice 1 -->
            <div class="Tests-Hub-correction-answer">
                <p><strong>Exercice 1</strong></p>
                <p><strong>1)</strong> L'ensemble de d√©finition de \( f(x) = \sqrt{-2x^2 + 3x -1} \) est donn√© par la condition \(-2x^2+3x-1 \ge 0\). R√©solvons l'√©quation \(-2x^2+3x-1=0\) : le discriminant \(\Delta = 9 - 8 = 1\), les racines sont \(x = \frac{-3 \pm 1}{-4}\) (ou en multipliant par \(-1\) : \(2x^2-3x+1=0\) donne \(x = \frac{3 \pm 1}{4}\)) soit \(x = 1\) et \(x = \frac{1}{2}\). Le trin√¥me est positif entre les racines car le coefficient de \(x^2\) est n√©gatif. Donc l'ensemble de d√©finition est \(\left[\frac{1}{2}, 1\right]\). R√©ponse <strong>c</strong>.</p>
                <p><strong>2)</strong> \(h(x)=\sqrt{1-x^2}\) d√©finie sur \([-1,1]\). \(h(-x)=\sqrt{1-(-x)^2}=\sqrt{1-x^2}=h(x)\). Donc \(h\) est paire. R√©ponse <strong>a</strong>.</p>
                <p><strong>3)</strong> \((\cot x + \frac{1}{\sin x})(\cot x - \frac{1}{\sin x}) = \cot^2 x - \frac{1}{\sin^2 x}\). Or \(\cot^2 x = \frac{\cos^2 x}{\sin^2 x}\), donc l'expression devient \(\frac{\cos^2 x - 1}{\sin^2 x} = \frac{-\sin^2 x}{\sin^2 x} = -1\). R√©ponse <strong>a</strong>.</p>
            </div>
            
            <!-- Correction de l'exercice 2 -->
            <div class="Tests-Hub-correction-answer">
                <p><strong>Exercice 2</strong></p>
                
                <p><strong>1) a)</strong> \(U_0 = \frac{1}{2}\).</p>
                <p>\(U_1 = \frac{1+2U_0}{2+U_0} = \frac{1+2\cdot\frac{1}{2}}{2+\frac{1}{2}} = \frac{1+1}{\frac{5}{2}} = 2 \times \frac{2}{5} = \frac{4}{5}\).</p>
                <p>\(U_2 = \frac{1+2U_1}{2+U_1} = \frac{1+2\cdot\frac{4}{5}}{2+\frac{4}{5}} = \frac{1+\frac{8}{5}}{\frac{10}{5}+\frac{4}{5}} = \frac{\frac{13}{5}}{\frac{14}{5}} = \frac{13}{14}\).</p>
                
                <p><strong>b)</strong> La diff√©rence \(U_1-U_0 = \frac{4}{5}-\frac{1}{2} = \frac{3}{10}\) et \(U_2-U_1 = \frac{13}{14}-\frac{4}{5} = \frac{65}{70}-\frac{56}{70}=\frac{9}{70}\) ; elles sont diff√©rentes, donc la suite n'est pas arithm√©tique.  
                Le rapport \(\frac{U_1}{U_0} = \frac{4/5}{1/2} = \frac{8}{5}\) et \(\frac{U_2}{U_1} = \frac{13/14}{4/5} = \frac{65}{56}\) ; ils sont diff√©rents, donc la suite n'est pas g√©om√©trique non plus.</p>
                
                <p><strong>2) a)</strong> \(V_0 = \frac{U_0-1}{U_0+1} = \frac{\frac{1}{2}-1}{\frac{1}{2}+1} = \frac{-\frac{1}{2}}{\frac{3}{2}} = -\frac{1}{3}\).</p>
                
                <p><strong>b)</strong> Calculons \(V_{n+1}\) en fonction de \(V_n\) :</p>
                <p>\[
                V_{n+1} = \frac{U_{n+1}-1}{U_{n+1}+1} = \frac{\frac{1+2U_n}{2+U_n}-1}{\frac{1+2U_n}{2+U_n}+1}
                = \frac{\frac{1+2U_n-(2+U_n)}{2+U_n}}{\frac{1+2U_n+2+U_n}{2+U_n}} = \frac{U_n-1}{3(1+U_n)} = \frac{1}{3}\cdot\frac{U_n-1}{U_n+1} = \frac{1}{3}V_n.
                \]</p>
                <p>Donc \((V_n)\) est une suite g√©om√©trique de raison \(\frac{1}{3}\).</p>
                
                <p><strong>c)</strong> On a \(V_n = V_0 \left(\frac{1}{3}\right)^n = -\frac{1}{3} \cdot \frac{1}{3^n} = -\frac{1}{3^{n+1}}\).</p>
                <p>Pour obtenir \(U_n\) on utilise \(V_n = \frac{U_n-1}{U_n+1}\) :</p>
                <p>\(V_n(U_n+1)=U_n-1 \Rightarrow V_nU_n+V_n = U_n-1 \Rightarrow V_nU_n-U_n = -1-V_n \Rightarrow U_n(V_n-1) = -(1+V_n)\)  
                \(\Rightarrow U_n = \frac{1+V_n}{1-V_n}\).</p>
                <p>En rempla√ßant \(V_n = -\frac{1}{3^{n+1}}\) :</p>
                <p>\[
                U_n = \frac{1-\frac{1}{3^{n+1}}}{1+\frac{1}{3^{n+1}}} = \frac{3^{n+1}-1}{3^{n+1}+1}.
                \]</p>
                
                <p><strong>3)</strong> La somme des termes d'une suite g√©om√©trique de premier terme \(V_0\) et de raison \(\frac{1}{3}\) est :</p>
                <p>\[
                S_n = V_0\frac{1-\left(\frac{1}{3}\right)^{n+1}}{1-\frac{1}{3}} = -\frac{1}{3} \cdot \frac{1-\frac{1}{3^{n+1}}}{\frac{2}{3}} = -\frac{1}{3}\cdot\frac{3}{2}\left(1-\frac{1}{3^{n+1}}\right) = -\frac{1}{2}\left(1-\frac{1}{3^{n+1}}\right).
                \]</p>
                <p>Ce qui est le r√©sultat demand√©.</p>
            </div>
            
            <!-- Correction de l'exercice 3 -->
            <div class="Tests-Hub-correction-answer">
                <p><strong>Exercice 3</strong></p>
                
                <p><strong>I) 1) a)</strong> \( (x+3)^2 -5 = x^2 + 6x + 9 - 5 = x^2 + 6x + 4 = f(x) \). Donc v√©rifi√©.</p>
                <p><strong>b)</strong> La forme canonique montre que \( f \) est une parabole tourn√©e vers le haut (coefficient de \( x^2 \) positif). Le sommet est en \( x = -3 \). Donc \( f \) est d√©croissante sur \( ]-\infty, -3] \) et croissante sur \( [-3, +\infty[ \).</p>
                <p><strong>2)</strong> Le minimum de \( f \) est atteint en \( x = -3 \) et vaut \( f(-3) = (-3+3)^2 -5 = -5 \). Donc minimum \( -5 \).</p>
                
                <p><strong>II) 1) Parit√© de \( g \) :</strong> \( g(-x) = \frac{-2(-x)^2+1}{(-x)^2+1} = \frac{-2x^2+1}{x^2+1} = g(x) \). Donc \( g \) est paire. Graphiquement, la courbe de \( g \) est sym√©trique par rapport √† l'axe des ordonn√©es.</p>
                <p><strong>2)</strong> \( -2 + \frac{3}{x^2+1} = \frac{-2(x^2+1)+3}{x^2+1} = \frac{-2x^2 -2 +3}{x^2+1} = \frac{-2x^2+1}{x^2+1} = g(x) \).</p>
                <p><strong>3) a) Variations de \( g \) sur \( [0, +\infty[ \) :</strong> Pour \( x \ge 0 \), la fonction \( x \mapsto x^2+1 \) est croissante, donc \( x \mapsto \frac{1}{x^2+1} \) est d√©croissante. Ainsi \( x \mapsto -2 + \frac{3}{x^2+1} \) est √©galement d√©croissante. Donc \( g \) est d√©croissante sur \( [0, +\infty[ \).</p>
                <p><strong>b)</strong> Comme \( g \) est paire, elle est sym√©trique par rapport √† l'axe des ordonn√©es. Donc sur \( ]-\infty, 0] \), \( g \) est croissante (car sym√©trique de la partie d√©croissante sur \( [0, +\infty[ \)).</p>
                
                <!-- Diagramme explicatif pour l'exercice 3 -->
                <div class="Tests-Hub-diagram-container">
                    <canvas id="exercise3CorrectionCanvas" class="Tests-Hub-diagram-canvas" width="500" height="300" style="width:100%; height:auto;"></canvas>
                    <p><em>Figure : Courbe de \(f\) (parabole) et de \(g\) (courbe sym√©trique).</em></p>
                </div>
            </div>
            
            <!-- Correction de l'exercice 4 -->
            <div class="Tests-Hub-correction-answer">
                <p><strong>Exercice 4</strong></p>
                
                <p><strong>I) 1) Calcul de \( f(0), f(\pi/2), f(\pi) \)</strong></p>
                <p>\( f(0) = -2\cos^2 0 - 3\sin 0 + 3 = -2\times 1 - 0 + 3 = -2+3 = 1 \).</p>
                <p>\( f(\pi/2) = -2\cos^2(\pi/2) - 3\sin(\pi/2) + 3 = -2\times 0 - 3\times 1 + 3 = -3+3 = 0 \).</p>
                <p>\( f(\pi) = -2\cos^2\pi - 3\sin\pi + 3 = -2\times (-1)^2 - 0 + 3 = -2 + 3 = 1 \).</p>
                
                <p><strong>2) a) Montrer que \( f(x) = 2\sin^2x -3\sin x +1 \)</strong></p>
                <p>On utilise \( \cos^2 x = 1 - \sin^2 x \).</p>
                <p>\( f(x) = -2(1 - \sin^2 x) - 3\sin x + 3 = -2 + 2\sin^2 x - 3\sin x + 3 = 2\sin^2 x - 3\sin x + 1 \).</p>
                
                <p><strong>b) R√©soudre \( f(x)=0 \) dans \([0;\pi]\)</strong></p>
                <p>On pose \( X = \sin x \). L'√©quation devient \( 2X^2 - 3X + 1 = 0 \).</p>
                <p>Discriminant : \( \Delta = (-3)^2 - 4\times 2\times 1 = 9 - 8 = 1 \).</p>
                <p>Racines : \( X_1 = \frac{3 - 1}{4} = \frac{1}{2} \), \( X_2 = \frac{3 + 1}{4} = 1 \).</p>
                <p>Donc \( \sin x = \frac{1}{2} \) ou \( \sin x = 1 \).</p>
                <p>Sur \([0;\pi]\) :</p>
                <ul>
                    <li>\( \sin x = 1 \) donne \( x = \frac{\pi}{2} \).</li>
                    <li>\( \sin x = \frac{1}{2} \) donne \( x = \frac{\pi}{6} \) ou \( x = \frac{5\pi}{6} \) (car \(\sin(\pi - \theta) = \sin\theta\)).</li>
                </ul>
                <p>L'ensemble des solutions est \( \boxed{\left\{ \frac{\pi}{6}, \frac{\pi}{2}, \frac{5\pi}{6} \right\}} \).</p>
                
                <p><strong>II) 1) Montrer que ABC est un triangle</strong></p>
                <p>Il suffit de v√©rifier que les points ne sont pas align√©s. Calculons le d√©terminant des vecteurs \(\overrightarrow{AB}\) et \(\overrightarrow{AC}\).</p>
                <p>\(\overrightarrow{AB} = (-2-3,\ 5-3) = (-5, 2)\).</p>
                <p>\(\overrightarrow{AC} = (2-3,\ 0-3) = (-1, -3)\).</p>
                <p>Le d√©terminant est \( (-5)\times(-3) - (2)\times(-1) = 15 + 2 = 17 \neq 0\). Donc les vecteurs ne sont pas colin√©aires, ABC est un triangle.</p>
                
                <p><strong>2) √âquation cart√©sienne de (AB)</strong></p>
                <p>On a \( \overrightarrow{AB} = (-5, 2) \) est un vecteur directeur. Un vecteur normal est \( \vec{n} = (2, 5) \) car \((-5,2)\cdot(2,5) = -10+10=0\).</p>
                <p>L'√©quation est de la forme \( 2x + 5y + c = 0 \). En utilisant le point A(3,3) : \( 2\times3 + 5\times3 + c = 0 \Rightarrow 6+15+c=0 \Rightarrow c = -21\).</p>
                <p>Donc \( (AB) : 2x + 5y - 21 = 0 \).</p>
                
                <p><strong>3) Coordonn√©es du centre de gravit√© G</strong></p>
                <p>\( G = \left( \frac{x_A+x_B+x_C}{3}, \frac{y_A+y_B+y_C}{3} \right) = \left( \frac{3-2+2}{3}, \frac{3+5+0}{3} \right) = \left( \frac{3}{3}, \frac{8}{3} \right) = (1, \frac{8}{3}) \).</p>
                
                <p><strong>4) Alignement de A, G et I</strong></p>
                <p>I milieu de [BC] : \( I = \left( \frac{-2+2}{2}, \frac{5+0}{2} \right) = (0, 2.5) \).</p>
                <p>Calculons les vecteurs \(\overrightarrow{AG}\) et \(\overrightarrow{AI}\) :</p>
                <p>\(\overrightarrow{AG} = (1-3, \frac{8}{3}-3) = (-2, \frac{8}{3} - \frac{9}{3}) = (-2, -\frac{1}{3})\).</p>
                <p>\(\overrightarrow{AI} = (0-3, 2.5-3) = (-3, -0.5) = (-3, -\frac{1}{2})\).</p>
                <p>V√©rifions la colin√©arit√© : le d√©terminant de \(\overrightarrow{AG}\) et \(\overrightarrow{AI}\) est</p>
                <p>\( (-2)\times(-\frac{1}{2}) - (-\frac{1}{3})\times(-3) = 1 - 1 = 0\).</p>
                <p>Donc les vecteurs sont colin√©aires, ce qui prouve que A, G et I sont align√©s.</p>
                
                <!-- Figure de correction (avec tous les points) -->
                <div class="Tests-Hub-diagram-container">
                    <canvas id="correctionEx4Canvas" class="Tests-Hub-diagram-canvas" width="500" height="300" style="width:100%; height:auto;"></canvas>
                </div>
            </div>
        </div>
        
        <!-- Boutons t√©l√©chargement (placeholders) -->
        <div class="Tests-Hub-download-buttons">
            <button class="Tests-Hub-download-button pdf" id="downloadPdf">
                <span>üìÑ</span>
                <span>PDF</span>
            </button>
            <button class="Tests-Hub-download-button odt" id="downloadOdt">
                <span>üìù</span>
                <span>ODT</span>
            </button>
            <button class="Tests-Hub-download-button png" id="downloadPng">
                <span>üñºÔ∏è</span>
                <span>PNG</span>
            </button>
        </div>
    </main>
    
    <footer class="Tests-Hub-footer-container">
        <div class="Tests-Hub-footer-content">
            <div class="Tests-Hub-footer-columns">
                <div class="Tests-Hub-footer-column">
                    <h3>D√©veloppeur</h3>
                    <p class="Tests-Hub-developer-name">Ziad El Majri</p>
                </div>
                <div class="Tests-Hub-footer-column">
                    <h3>Version</h3>
                    <p class="Tests-Hub-version-number">v2.2.1</p>
                </div>
                <div class="Tests-Hub-footer-column">
                    <h3>Liens</h3>
                    <ul class="Tests-Hub-footer-links-list">
                        <li><a href="#" class="Tests-Hub-footer-link">Conditions d'utilisation</a></li>
                        <li><a href="#" class="Tests-Hub-footer-link">Politique de confidentialit√©</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    
    <script>
        // ========== Gestion du th√®me, langue, etc. (simplifi√©, bas√© sur le mod√®le) ==========
        let currentLanguage = 'fr';
        let isDarkTheme = false;
        
        // Traductions minimales pour les √©l√©ments dynamiques (boutons)
        const TestsHub_translations = {
            ar: { TestsHub: { synthesisTest: { showCorrection: "ÿπÿ±ÿ∂ ÿßŸÑÿ™ÿµÿ≠Ÿäÿ≠", hideCorrection: "ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ™ÿµÿ≠Ÿäÿ≠", comingSoon: "ŸÇÿ±Ÿäÿ®Ÿãÿß!" }, theme: { toggle: "ÿßŸÑŸàÿ∂ÿπ ÿßŸÑŸÖÿ∏ŸÑŸÖ" } } },
            fr: { TestsHub: { synthesisTest: { showCorrection: "Afficher la correction", hideCorrection: "Masquer la correction", comingSoon: "Bient√¥t disponible !" }, theme: { toggle: "Mode sombre" } } },
            en: { TestsHub: { synthesisTest: { showCorrection: "Show Correction", hideCorrection: "Hide Correction", comingSoon: "Coming soon!" }, theme: { toggle: "Dark Mode" } } }
        };
        
        function updateTextContent() {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                let current = TestsHub_translations[currentLanguage];
                key.split('.').forEach(k => { if (current) current = current[k]; });
                if (typeof current === 'string') el.textContent = current;
            });
            updateThemeToggleText();
            updateCorrectionButtonText();
        }
        
        function updateThemeToggleText() {
            const themeToggle = document.querySelector('.Tests-Hub-theme-toggle span:nth-child(2)');
            const themeIcon = document.getElementById('themeIcon');
            if (themeToggle) themeToggle.textContent = isDarkTheme ? (currentLanguage === 'ar' ? 'ÿßŸÑŸàÿ∂ÿπ ÿßŸÑŸÅÿßÿ™ÿ≠' : currentLanguage === 'fr' ? 'Mode clair' : 'Light Mode') : TestsHub_translations[currentLanguage].TestsHub.theme.toggle;
            if (themeIcon) themeIcon.textContent = isDarkTheme ? '‚òÄÔ∏è' : 'üåô';
        }
        
        function updateCorrectionButtonText() {
            const btn = document.getElementById('toggleCorrection');
            const corr = document.getElementById('correction');
            if (btn) btn.textContent = corr.classList.contains('Tests-Hub-hidden') ? TestsHub_translations[currentLanguage].TestsHub.synthesisTest.showCorrection : TestsHub_translations[currentLanguage].TestsHub.synthesisTest.hideCorrection;
        }
        
        function toggleTheme() {
            isDarkTheme = !isDarkTheme;
            document.body.classList.toggle('Tests-Hub-dark-theme', isDarkTheme);
            updateThemeToggleText();
            localStorage.setItem('testsHubTheme', isDarkTheme ? 'dark' : 'light');
            redrawAllGraphs();
        }
        
        function changeLanguage(lang) {
            if (!TestsHub_translations[lang]) return;
            currentLanguage = lang;
            updateTextContent();
            document.querySelector('.Tests-Hub-language-button span:nth-child(2)').textContent = lang === 'ar' ? 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©' : lang === 'fr' ? 'Fran√ßais' : 'English';
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            document.documentElement.lang = lang;
            localStorage.setItem('testsHubLanguage', lang);
        }
        
        function downloadAsPDF() { alert(TestsHub_translations[currentLanguage]?.TestsHub?.synthesisTest?.comingSoon || "Bient√¥t disponible !"); }
        function downloadAsODT() { alert(TestsHub_translations[currentLanguage]?.TestsHub?.synthesisTest?.comingSoon || "Bient√¥t disponible !"); }
        function downloadAsPNG() { alert(TestsHub_translations[currentLanguage]?.TestsHub?.synthesisTest?.comingSoon || "Bient√¥t disponible !"); }
        
        // ========== Fonctions de dessin pour l'exercice 3 (correction) ==========
        function drawExercise3Correction() {
            const canvas = document.getElementById('exercise3CorrectionCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientWidth * 0.6; // ratio hauteur/largeur
            const w = canvas.width, h = canvas.height;
            
            // D√©finir les limites du rep√®re
            const xMin = -4.5, xMax = 2.5, yMin = -6, yMax = 12;
            const padding = 40; // marge
            
            // Fonction de transformation (monde -> canvas)
            function toCanvas(x, y) {
                const canvasX = padding + (x - xMin) * (w - 2*padding) / (xMax - xMin);
                const canvasY = h - padding - (y - yMin) * (h - 2*padding) / (yMax - yMin);
                return { x: canvasX, y: canvasY };
            }
            
            // Effacer
            ctx.clearRect(0, 0, w, h);
            
            // Dessiner les axes
            ctx.strokeStyle = isDarkTheme ? '#aaa' : '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            // Axe X
            let origin = toCanvas(0, 0);
            ctx.moveTo(padding, origin.y);
            ctx.lineTo(w - padding, origin.y);
            ctx.stroke();
            // Axe Y
            ctx.beginPath();
            ctx.moveTo(origin.x, padding);
            ctx.lineTo(origin.x, h - padding);
            ctx.stroke();
            
            // Graduations simples sur les axes
            ctx.fillStyle = isDarkTheme ? '#eee' : '#111';
            ctx.font = '10px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'top';
            for (let x = Math.ceil(xMin); x <= xMax; x++) {
                if (x === 0) continue;
                let p = toCanvas(x, 0);
                ctx.fillText(x, p.x, origin.y + 5);
            }
            ctx.textAlign = 'right';
            ctx.textBaseline = 'middle';
            for (let y = Math.ceil(yMin); y <= yMax; y++) {
                if (y === 0) continue;
                let p = toCanvas(0, y);
                ctx.fillText(y, origin.x - 5, p.y);
            }
            ctx.fillText('0', origin.x - 5, origin.y + 5);
            
            // Tracer f (parabole) en bleu
            ctx.strokeStyle = isDarkTheme ? '#60a5fa' : '#3b82f6';
            ctx.lineWidth = 2;
            ctx.beginPath();
            let first = true;
            for (let x = xMin; x <= xMax; x += 0.05) {
                let y = (x+3)*(x+3) - 5; // f(x)
                if (y < yMin || y > yMax) {
                    first = true;
                    continue;
                }
                let p = toCanvas(x, y);
                if (first) {
                    ctx.moveTo(p.x, p.y);
                    first = false;
                } else {
                    ctx.lineTo(p.x, p.y);
                }
            }
            ctx.stroke();
            
            // Tracer g (courbe) en rouge
            ctx.strokeStyle = isDarkTheme ? '#f87171' : '#ef4444';
            ctx.lineWidth = 2;
            ctx.beginPath();
            first = true;
            for (let x = xMin; x <= xMax; x += 0.05) {
                let y = -2 + 3/(x*x + 1);
                if (y < yMin || y > yMax) {
                    first = true;
                    continue;
                }
                let p = toCanvas(x, y);
                if (first) {
                    ctx.moveTo(p.x, p.y);
                    first = false;
                } else {
                    ctx.lineTo(p.x, p.y);
                }
            }
            ctx.stroke();
            
            // L√©gende
            ctx.fillStyle = isDarkTheme ? '#eee' : '#111';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('f(x) = x¬≤+6x+4', padding + 10, padding + 20);
            ctx.fillStyle = isDarkTheme ? '#f87171' : '#ef4444';
            ctx.fillText('g(x) = (-2x¬≤+1)/(x¬≤+1)', padding + 10, padding + 40);
        }
        
        // ========== Fonctions de dessin pour l'exercice 4 ==========
        // Points fixes
        const points = {
            A: {x: 3, y: 3},
            B: {x: -2, y: 5},
            C: {x: 2, y: 0}
        };
        
        // Calcul de G et I (pour la correction)
        function getG() {
            return {
                x: (points.A.x + points.B.x + points.C.x) / 3,
                y: (points.A.y + points.B.y + points.C.y) / 3
            };
        }
        
        function getI() {
            return {
                x: (points.B.x + points.C.x) / 2,
                y: (points.B.y + points.C.y) / 2
            };
        }
        
        // Transformation des coordonn√©es du mod√®le vers le canvas
        function modelToCanvas(pointsList, canvasWidth, canvasHeight, padding = 40) {
            // Trouver les extr√™mes
            let minX = Math.min(...pointsList.map(p => p.x));
            let maxX = Math.max(...pointsList.map(p => p.x));
            let minY = Math.min(...pointsList.map(p => p.y));
            let maxY = Math.max(...pointsList.map(p => p.y));
            // Ajouter une marge
            const rangeX = maxX - minX || 1;
            const rangeY = maxY - minY || 1;
            const scaleX = (canvasWidth - 2 * padding) / rangeX;
            const scaleY = (canvasHeight - 2 * padding) / rangeY;
            const scale = Math.min(scaleX, scaleY);
            const offsetX = padding + (canvasWidth - 2 * padding - rangeX * scale) / 2;
            const offsetY = padding + (canvasHeight - 2 * padding - rangeY * scale) / 2;
            
            return (p) => ({
                x: offsetX + (p.x - minX) * scale,
                y: offsetY + (p.y - minY) * scale
            });
        }
        
        // Dessin de l'√©nonc√© (seulement triangle ABC)
        function drawExercise4() {
            const canvas = document.getElementById('exercise4Canvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientWidth * 0.75;
            const w = canvas.width, h = canvas.height;
            
            const allPoints = [points.A, points.B, points.C];
            const transform = modelToCanvas(allPoints, w, h);
            
            ctx.clearRect(0, 0, w, h);
            
            // Dessin du triangle ABC
            ctx.strokeStyle = isDarkTheme ? '#60a5fa' : '#1e3a8a';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(transform(points.A).x, transform(points.A).y);
            ctx.lineTo(transform(points.B).x, transform(points.B).y);
            ctx.lineTo(transform(points.C).x, transform(points.C).y);
            ctx.closePath();
            ctx.stroke();
            
            // Points
            ctx.fillStyle = isDarkTheme ? '#eee' : '#111';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'bottom';
            ctx.fillText('A', transform(points.A).x, transform(points.A).y - 5);
            ctx.fillText('B', transform(points.B).x, transform(points.B).y - 5);
            ctx.fillText('C', transform(points.C).x, transform(points.C).y - 5);
            
            // Cercles
            ctx.fillStyle = isDarkTheme ? '#60a5fa' : '#3b82f6';
            ctx.beginPath(); ctx.arc(transform(points.A).x, transform(points.A).y, 4, 0, 2*Math.PI); ctx.fill();
            ctx.beginPath(); ctx.arc(transform(points.B).x, transform(points.B).y, 4, 0, 2*Math.PI); ctx.fill();
            ctx.beginPath(); ctx.arc(transform(points.C).x, transform(points.C).y, 4, 0, 2*Math.PI); ctx.fill();
        }
        
        // Dessin de la correction (avec G et I)
        function drawCorrectionEx4() {
            const canvas = document.getElementById('correctionEx4Canvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientWidth * 0.6;
            const w = canvas.width, h = canvas.height;
            
            const G = getG();
            const I = getI();
            const allPoints = [points.A, points.B, points.C, G, I];
            const transform = modelToCanvas(allPoints, w, h);
            
            ctx.clearRect(0, 0, w, h);
            
            // Triangle ABC
            ctx.strokeStyle = isDarkTheme ? '#60a5fa' : '#1e3a8a';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(transform(points.A).x, transform(points.A).y);
            ctx.lineTo(transform(points.B).x, transform(points.B).y);
            ctx.lineTo(transform(points.C).x, transform(points.C).y);
            ctx.closePath();
            ctx.stroke();
            
            // Droite (AB) en pointill√©s pour visualisation
            ctx.strokeStyle = isDarkTheme ? '#fbbf24' : '#f59e0b';
            ctx.setLineDash([5, 3]);
            ctx.beginPath();
            ctx.moveTo(transform(points.A).x, transform(points.A).y);
            ctx.lineTo(transform(points.B).x, transform(points.B).y);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Segment [AI] pour montrer l'alignement
            ctx.strokeStyle = isDarkTheme ? '#34d399' : '#10b981';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(transform(points.A).x, transform(points.A).y);
            ctx.lineTo(transform(I).x, transform(I).y);
            ctx.stroke();
            
            // Points
            ctx.fillStyle = isDarkTheme ? '#eee' : '#111';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'bottom';
            ctx.fillText('A', transform(points.A).x, transform(points.A).y - 5);
            ctx.fillText('B', transform(points.B).x, transform(points.B).y - 5);
            ctx.fillText('C', transform(points.C).x, transform(points.C).y - 5);
            ctx.fillText('G', transform(G).x, transform(G).y - 5);
            ctx.fillText('I', transform(I).x, transform(I).y - 5);
            
            // Cercles
            ctx.fillStyle = isDarkTheme ? '#60a5fa' : '#3b82f6';
            ctx.beginPath(); ctx.arc(transform(points.A).x, transform(points.A).y, 4, 0, 2*Math.PI); ctx.fill();
            ctx.beginPath(); ctx.arc(transform(points.B).x, transform(points.B).y, 4, 0, 2*Math.PI); ctx.fill();
            ctx.beginPath(); ctx.arc(transform(points.C).x, transform(points.C).y, 4, 0, 2*Math.PI); ctx.fill();
            ctx.fillStyle = isDarkTheme ? '#f87171' : '#ef4444';
            ctx.beginPath(); ctx.arc(transform(G).x, transform(G).y, 4, 0, 2*Math.PI); ctx.fill();
            ctx.fillStyle = isDarkTheme ? '#fbbf24' : '#f59e0b';
            ctx.beginPath(); ctx.arc(transform(I).x, transform(I).y, 4, 0, 2*Math.PI); ctx.fill();
        }
        
        function redrawAllGraphs() {
            drawExercise4();
            if (!document.getElementById('correction').classList.contains('Tests-Hub-hidden')) {
                drawCorrectionEx4();
                drawExercise3Correction();
            }
        }
        
        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('testsHubTheme');
            if (savedTheme === 'dark') {
                isDarkTheme = true;
                document.body.classList.add('Tests-Hub-dark-theme');
            }
            const savedLanguage = localStorage.getItem('testsHubLanguage');
            if (savedLanguage && TestsHub_translations[savedLanguage]) {
                currentLanguage = savedLanguage;
            }
            if (currentLanguage === 'ar') document.documentElement.dir = 'rtl';
            else document.documentElement.dir = 'ltr';
            
            updateTextContent();
            
            // KaTeX rendering
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "$", right: "$", display: false},
                    {left: "\\(", right: "\\)", display: false},
                    {left: "\\[", right: "\\]", display: true}
                ],
                throwOnError: false
            });
            
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            
            document.querySelectorAll('.Tests-Hub-language-option').forEach(opt => {
                opt.addEventListener('click', function() {
                    changeLanguage(this.getAttribute('data-language'));
                });
            });
            
            document.getElementById('downloadPdf').addEventListener('click', downloadAsPDF);
            document.getElementById('downloadOdt').addEventListener('click', downloadAsODT);
            document.getElementById('downloadPng').addEventListener('click', downloadAsPNG);
            
            const correctionBtn = document.getElementById('toggleCorrection');
            correctionBtn.addEventListener('click', function() {
                const corr = document.getElementById('correction');
                corr.classList.toggle('Tests-Hub-hidden');
                updateCorrectionButtonText();
                redrawAllGraphs();
                renderMathInElement(corr, { delimiters: [{left: "$$", right: "$$", display: true}, {left: "$", right: "$", display: false}], throwOnError: false });
            });
            
            redrawAllGraphs();
            window.addEventListener('resize', redrawAllGraphs);
        });
    </script>
</body>
</html>